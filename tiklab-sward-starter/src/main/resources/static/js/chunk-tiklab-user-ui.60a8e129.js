(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1071:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(0)),u=r(34);r(1526);t.default=function(e){var t=e.link,r=e.module;return n.default.createElement("div",{className:"tiklab_mask"},n.default.createElement("div",null,"当前为统一登录模式"),n.default.createElement("div",{className:"tiklab_mask_action",onClick:function(){return function(){var e,r=null===(e=JSON.parse(localStorage.getItem("authConfig")))||void 0===e?void 0:e.authServiceUrl;if(r)return(0,u.applyJump)("".concat(r,"/#/setting").concat(t))}()}},"请前往soular进行",r,"相关操作。"))}},1118:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(693);var u=a(r(692));r(685);var l=a(r(686)),i=a(r(259)),o=a(r(58)),d=a(r(340)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),s=r(148),f=r(34),p=r(944);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,s.inject)("userStore")((0,s.observer)((function(e){var t=e.visible,r=e.handleOk,a=e.handleCancel,n=e.allSelectIds,o=e.userStore,s=e.selectedRowKeys,m=e.setSelectedRowKeys,g=e.userDir,b=o.findUserPageAction,y=(0,c.useState)([]),h=(0,d.default)(y,2),O=h[0],E=h[1],w={pageSize:6,currentPage:1},P=(0,c.useState)({}),_=(0,d.default)(P,2),j=_[0],k=_[1],x=(0,c.useState)({pageParam:w}),I=(0,d.default)(x,2),S=I[0],U=I[1],D=(0,c.useState)([]),A=(0,d.default)(D,2),R=A[0],N=A[1];(0,c.useEffect)((function(){g?N(g):f.Axios.post("/user/userdir/findAllList").then((function(e){e.code||N(e.data)}))}),[g]),(0,c.useEffect)((function(){M()}),[S]);var M=function(){b(S).then((function(e){0===e.code&&(k({totalRecord:e.data.totalRecord,totalPage:e.data.totalPage}),E(e.data.dataList))}))},L=function(e){return n&&n.some((function(t){return t===e.id}))},C={selectedRowKeys:s,onSelectAll:function(e,t,r){var a=r.map((function(e){return e&&e.id})).filter((function(e){return void 0!==e}));if(e){var n=Array.from(new Set([].concat((0,i.default)(a),(0,i.default)(s))));m(n)}else{var u=s.filter((function(e){return!a.includes(e)}));m(u)}},onSelect:function(e){return T(e)},getCheckboxProps:function(e){return{disabled:L(e)}}},T=function(e){L(e)||(s.indexOf(e.id)>=0?s.splice(s.indexOf(e.id),1):s.push(e.id),m((0,i.default)(s)))},W=[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return c.default.createElement(l.default,null,c.default.createElement(p.Profile,{userInfo:t}),e)}},{title:"用户名",dataIndex:"name",key:"name",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"手机号",dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:"email",key:"email",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=R.findIndex((function(t){return t.id===e}));return t>-1?R[t].name:"--"}}];return c.default.createElement(p.BaseModal,{title:"添加用户",visible:t,onCancel:a,onOk:r,width:800},c.default.createElement("div",{className:"user-add-table"},c.default.createElement(p.SearchInput,{placeholder:"搜索姓名、用户名",style:{width:200},onPressEnter:function(e){var t=v(v({},S),{},{accent:e.target.value,pageParam:w});U(t)}}),c.default.createElement("div",{style:{paddingTop:15}},c.default.createElement(u.default,{columns:W,dataSource:O,rowSelection:C,onRow:function(e){return{onClick:function(){return T(e)}}},rowKey:function(e){return e.id},pagination:!1}),c.default.createElement(p.Page,{currentPage:S.pageParam.currentPage,changPage:function(e){var t=v(v({},S),{},{pageParam:{pageSize:6,currentPage:e}});U(t)},page:j}))))})))},1190:function(e,t,r){"use strict";r.r(t)},1191:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(685);var n=a(r(686)),u=a(r(0));r(1476);t.default=function(e){var t=e.icon,r=e.type,a=e.title,l=e.onClick,i=e.isMar,o=e.children;return u.default.createElement("div",{className:"user-btn ".concat(r?"user-btn-".concat(r):""," ").concat(i?"user-btn-mar":""),onClick:l},u.default.createElement(n.default,null,t&&u.default.createElement("span",{className:"user-btn-icon"},t),o||a))}},1192:function(e,t,r){"use strict";r.r(t)},1220:function(e,t,r){"use strict";r.r(t)},1223:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/dingding1.png"},1224:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/qywechat1.png"},1225:function(e,t,r){"use strict";r.r(t)},1226:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(39));r(257);var l=a(r(136));r(695);var i=a(r(694));r(691);var o=a(r(690));r(688);var d=a(r(253)),c=a(r(750)),s=a(r(111)),f=a(r(58)),p=a(r(340)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),g=r(687),v=["role","group","orga"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t,r,a=e.isEdit,n=e.data,f=void 0===n?{}:n,b=e.visible,y=e.bgroup,O=e.userStore,E=e.getUserPage,w=e.handleCancel,P=e.userDir,_=void 0===P?[]:P,j=e.adduserform,k=O.rolePage,x=O.createRoleUserAction,I=O.createUserAction,S=O.findRolePageAction,U=O.updateUserAction,D=(0,g.useTranslation)().t,A=(0,m.useState)(1),R=(0,p.default)(A,2),N=R[0],M=R[1],L=(0,m.useState)([]),C=(0,p.default)(L,2),T=C[0],W=C[1];(0,m.useEffect)((function(){var e,t;b&&(a?(W(f.roleList),j.setFieldsValue(h(h({},f),{},{role:(f.roleList||[]).map((function(e){return e.id})),group:(null==f||null===(e=f.groupList)||void 0===e?void 0:e.length)>0?f.groupList.map((function(e){return e.id})):"--",orga:(null==f||null===(t=f.orgaList)||void 0===t?void 0:t.length)>0?f.orgaList.map((function(e){return e.orgaId})):"--"}))):z({pageParam:{pageSize:10,currentPage:N},bgroup:y}));return function(){W([])}}),[b]);var z=function(e){S(e).then((function(t){if(0===t.code){var r=T.concat(t.data.dataList);W(r),M(e.pageParam.currentPage)}}))},F=function(){var e=(0,s.default)(u.default.mark((function e(t){var r,n,l,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.role,t.group,t.orga,n=(0,c.default)(t,v),l=h(h({},n),{},{type:0,dirId:"1"}),!a){e.next=9;break}return l=h(h({},n),{},{id:f.id,type:f.type,dirId:f.dirId}),e.next=6,U(l);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,I(l);case 11:i=e.sent;case 12:0===i.code?a?(w(),E()):B(r,i.data):d.default.error(i.msg);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){if(Array.isArray(e)){var r=e.map((function(e){return x({user:{id:t},role:{id:e}})}));Promise.all(r).then((function(e){w(),E()}))}else{x({user:{id:t},role:{id:e}}).then((function(e){0===e.code&&(w(),E())}))}},G=function(e,t){var r=j.getFieldValue,a=j.setFieldsValue,n=r("phone"),u=r("email"),l=r("name");if(t)switch(e.field){case"name":a({phone:n}),a({email:u});break;case"phone":a({name:l}),a({email:u});break;default:a({name:l}),a({phone:n})}else switch(e.field){case"name":if(!n&&!u)return Promise.reject("用户名、邮箱、手机号不能同时为空");break;case"phone":if(!l&&!u)return Promise.reject("用户名、邮箱、手机号不能同时为空");break;default:if(!l&&!n)return Promise.reject("用户名、邮箱、手机号不能同时为空")}return Promise.resolve()};return m.default.createElement(i.default,{form:j,onFinish:F,preserve:!1,layout:"vertical"},m.default.createElement(i.default.Item,{label:D("adduser-module.nickname"),name:"nickname",rules:[{required:!0,message:D("adduser-module.nicknameRequired")}]},m.default.createElement(o.default,{disabled:f.dirId&&"1"!==f.dirId||!1,placeholder:D("adduser-module.nickname")})),m.default.createElement(i.default.Item,{label:D("adduser-module.name"),name:"name",rules:a&&"1"!==f.dirId?[{validator:G}]:[{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,16}$/,message:"用户名最长16位(字母，数字，下划线，减号，汉字)"},{validator:G}]},m.default.createElement(o.default,{disabled:f.dirId&&"1"!==f.dirId||!1,placeholder:D("adduser-module.name")})),m.default.createElement(i.default.Item,{label:D("adduser-module.phone"),name:"phone",rules:[{pattern:/^(?:(?:\+|00)86)?1[3-9]\d{9}$/,message:"手机号码不正确"},{validator:G}]},m.default.createElement(o.default,{disabled:f.dirId&&"1"!==f.dirId||!1,placeholder:D("adduser-module.phone")})),m.default.createElement(i.default.Item,{label:D("adduser-module.email"),name:"email",rules:[{type:"email",message:D("adduser-module.emailFormat")},{validator:G}]},m.default.createElement(o.default,{disabled:f.dirId&&"1"!==f.dirId||!1,placeholder:D("adduser-module.email")})),!a&&m.default.createElement(i.default.Item,{label:D("adduser-module.password"),name:"password",rules:(!a||"1"===f.dirId)&&[{required:!0,message:D("adduser-module.passwordRequired")}]},m.default.createElement(o.default,{disabled:f.dirId&&"1"!==f.dirId||!1,placeholder:D("adduser-module.password")})),m.default.createElement(i.default.Item,{label:D("adduser-module.userType"),name:"dirId",initialValue:"1",rules:[{required:!0,message:D("adduser-module.userTypeRequired")}]},m.default.createElement(l.default,{disabled:!0,placeholder:D("adduser-module.userType")},_.map((function(e){return m.default.createElement(l.default.Option,{key:e.id,value:e.id},e.name)})))),a&&m.default.createElement(m.default.Fragment,null,m.default.createElement(i.default.Item,{label:"部门",name:"orga"},(null==f||null===(t=f.orgaList)||void 0===t?void 0:t.length)>0?m.default.createElement(l.default,{mode:"multiple",disabled:!0,placeholder:"部门"},(null==f?void 0:f.orgaList)&&f.orgaList.map((function(e){return m.default.createElement(l.default.Option,{key:e.orgaId,value:e.orgaId},e.orgaName)}))):m.default.createElement(o.default,{value:"--",disabled:!0,placeholder:"部门"})),m.default.createElement(i.default.Item,{label:"用户组",name:"group"},(null==f||null===(r=f.groupList)||void 0===r?void 0:r.length)>0?m.default.createElement(l.default,{mode:"multiple",disabled:!0,placeholder:"用户组"},(null==f?void 0:f.groupList)&&f.groupList.map((function(e){return m.default.createElement(l.default.Option,{key:e.id,value:e.id},e.name)}))):m.default.createElement(o.default,{disabled:!0,placeholder:"用户组"}))),m.default.createElement(i.default.Item,{label:"角色",name:"role",rules:[{required:!0,message:"角色不能为空"}]},m.default.createElement(l.default,{mode:"multiple",onPopupScroll:function(e){e.persist();var t=e.target;t.scrollTop+t.offsetHeight===t.scrollHeight&&(N<k.total&&z({pageParam:{pageSize:10,currentPage:N+1}}))},disabled:a,placeholder:"角色"},T.map((function(e){if(2!==e.businessType||a)return m.default.createElement(l.default.Option,{key:e.id,value:e.id},e.name)})))))}},1227:function(e,t,r){"use strict";r.r(t)},1228:function(e,t,r){"use strict";r(1229)},1229:function(e,t,r){"use strict";r.r(t)},1230:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1538));t.default=n.default},1472:function(e,t,r){"use strict";r(1190)},1473:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1474));t.default=n.default},1474:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(39));r(681);var l=a(r(683));r(257);var i=a(r(136)),o=a(r(767));r(682);var d=a(r(684));r(693);var c=a(r(692)),s=a(r(111)),f=a(r(58));r(149);var p=a(r(67)),m=a(r(287));r(685);var g=a(r(686));r(695);var v=a(r(694)),b=a(r(340)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),h=r(148),O=r(687),E=r(944),w=a(r(1490));r(1190);var P=r(22);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,h.inject)("domainUserStore","userStore")((0,h.observer)((function(e){var t=e.domainId,r=e.domainType,a=void 0===r?null:r,n=e.domainUserStore,f=e.userStore,h=e.bgroup,_=n.getDomainUser,j=n.privilegeDomainUsers,x=n.createDmRoleUserAction,I=n.deleteDmRoleUserAction,S=n.deleteDmUserAction,U=n.findDmRoleListAction,D=n.findDmRoleUserListByRole,A=n.findDmUserPageAction,R=f.createRoleUserAction,N=f.findUserOrgaList,M=f.findUserDirList,L=(0,O.useTranslation)().t,C=v.default.useForm(),T=(0,b.default)(C,1)[0],W=(0,y.useState)([]),z=(0,b.default)(W,2),F=z[0],B=z[1],G=(0,y.useState)({}),q=(0,b.default)(G,2),K=q[0],V=q[1],J=(0,y.useState)(!1),H=(0,b.default)(J,2),Q=H[0],Y=H[1],$=(0,y.useState)([]),Z=(0,b.default)($,2),X=Z[0],ee=Z[1],te=(0,y.useState)(!1),re=(0,b.default)(te,2),ae=re[0],ne=re[1],ue=(0,y.useState)({pageSize:13,currentPage:1}),le=(0,b.default)(ue,1)[0],ie=(0,y.useState)({}),oe=(0,b.default)(ie,2),de=oe[0],ce=oe[1],se=(0,y.useState)({pageParam:le}),fe=(0,b.default)(se,2),pe=fe[0],me=fe[1],ge=[{title:L("orga-table.nickname"),dataIndex:["user","nickname"],key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return y.default.createElement(g.default,null,y.default.createElement(E.Profile,{userInfo:null==t?void 0:t.user}),e)}},{title:L("orga-table.name"),dataIndex:["user","name"],key:"name",width:"15%",ellipsis:!0},{title:L("orga-table.org"),dataIndex:["user","org"],key:"org",width:"20%",ellipsis:!0,render:function(e,t){var r=t.orgaList;return(null==r?void 0:r.length)>0?y.default.createElement("span",null,r[0].orgaName,r.length>1&&y.default.createElement(y.default.Fragment,null,"(+",r.length-1,")")):"--"}},{title:"角色",dataIndex:"role",key:"role",width:"20%",ellipsis:!0,render:function(e,t){var r=t.roleList;return(null==r?void 0:r.length)>0?y.default.createElement("span",null,r[0].dmRole.role.name,r.length>1&&y.default.createElement(y.default.Fragment,null,"(+",r.length-1,")")):"--"}},{title:L("orga-table.type"),dataIndex:["user","dirId"],key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=X.findIndex((function(t){return t.id===e}));return t>-1?X[t].name:"--"}},{title:L("orga-common.action"),key:"action",width:"10%",ellipsis:!0,render:function(e,t){var r,a=t.roleList;return!(a&&2===(null===(r=a[0])||void 0===r?void 0:r.dmRole.role.businessType))&&y.default.createElement(g.default,{size:"middle"},y.default.createElement(p.default,{title:"角色修改"},y.default.createElement(m.default,{style:{fontSize:16},onClick:function(){return Oe(t)}})),y.default.createElement(E.ListAction,{del:function(){return Ee(t.id)}}))}}];(0,y.useEffect)((function(){ve(),he()}),[]),(0,y.useEffect)((function(){be()}),[pe]);var ve=function(){M().then((function(e){e.code||ee(e.data)}))},be=function(){A(k({domainId:t},pe)).then(function(){var e=(0,s.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code){e.next=6;break}return ce({totalRecord:t.data.totalRecord,totalPage:t.data.totalPage}),e.next=4,Promise.all(ye(t.data.dataList));case 4:r=e.sent,_(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ye=function(e){return e.map(function(){var e=(0,s.default)(u.default.mark((function e(r){var a,n,l,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,D({domainId:t,userId:r.user.id});case 3:return 0===(l=e.sent).code&&l.data&&(a=l.data.map((function(e){return{dmRole:k(k({},e.dmRole),{},{role:e.role}),roleUserId:e.id}}))),e.next=7,N({userId:r.user.id,scope:1,type:1});case 7:return 0===(i=e.sent).code&&i.data&&(n=i.data.slice(-1).map((function(e){return k(k({},e.orga),{},{orgaUserId:e.id})}))),e.abrupt("return",k(k({},r),{},{roleList:a,orgaList:n}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},he=function(){U({domainId:t}).then((function(e){0===e.code&&B(e.data)}))},Oe=function(e){V(e),Y(!0)};(0,y.useEffect)((function(){if(Q&&K){var e=K.roleList;T.setFieldsValue({role:null==e?void 0:e.map((function(e){return e.dmRole.id}))})}}),[Q]);var Ee=function(e){S(e).then((function(e){0===e.code&&me({pageParam:le})}))},we=function(){T.resetFields(),Y(!1)},Pe=function(e){var t=e.map((function(e){return I(e)}));return Promise.all(t)},_e=function(e,r){var a={bgroup:h,userId:r,domainId:t};if(Array.isArray(e)){var n=e.map((function(e){var t=k(k({},a),{},{dmRole:{id:e}});return x(t)}));Promise.all(n).then((function(e){we()}))}else a=k(k({},a),{},{dmRole:{id:e}}),R(a).then((function(e){0===e.code&&we()}))};return y.default.createElement(l.default,{className:"privilege-domain-user"},y.default.createElement(d.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"20",offset:"2"},xxl:{span:"18",offset:"3"},className:"privilege-domain-user-content"},y.default.createElement(E.BreadCrumb,{firstItem:"成员"},y.default.createElement(E.Btn,{onClick:function(){return ne(!0)},type:"primary",title:L("orga-label.addUser")})),y.default.createElement("div",{style:{paddingBottom:15}},y.default.createElement(E.SearchInput,{placeholder:L("orga-label.searchUserPhoneEmail"),onPressEnter:function(e){var t=k(k({},pe),{},{pageParam:le});e.target.value?t.account=e.target.value:delete t.account,me(t)},style:{width:190}})),y.default.createElement(c.default,{columns:ge,dataSource:j,rowKey:function(e){return e.id},tableLayout:"fixed",pagination:!1,locale:{emptyText:y.default.createElement(E.ListEmpty,null)}}),y.default.createElement(E.Page,{currentPage:pe.pageParam.currentPage,changPage:function(e){var t=k(k({},pe),{},{pageParam:{pageSize:13,currentPage:e}});me(t)},page:de})),y.default.createElement(w.default,(0,o.default)({},e,{userDir:X,domainId:t,domainType:a,visible:ae,setVisible:ne,getDomainUsers:be})),y.default.createElement(E.BaseModal,{title:"修改角色",visible:Q,onCancel:we,onOk:function(){T.submit()}},y.default.createElement(v.default,{form:T,onFinish:function(e){var t=(0,P.toJS)(K),r=t.user.id,a=(t.roleList||[]).map((function(e){return e.dmRole.id})),n=e.role,u=a.filter((function(e){return!n.includes(e)})),l=(t.roleList||[]).map((function(e){if(u.includes(e.dmRole.id))return e.roleUserId})).filter(Boolean);0===l.length?_e(n,r):Pe(l).then((function(){_e(n,r)})),be()},preserve:!1,layout:"vertical"},y.default.createElement(v.default.Item,{label:"角色",name:"role",rules:[{required:!0,message:L("adduser-module.userTypeRequired")}]},y.default.createElement(i.default,{mode:"multiple"},F.map((function(e){if(2!==e.role.businessType)return y.default.createElement(i.default.Option,{key:e.id,value:e.id},e.role.name)})))))))})))},1475:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(697);var n=a(r(696)),u=a(r(767)),l=a(r(750)),i=a(r(0)),o=a(r(1191));r(1477);var d=["children"];t.default=function(e){var t=e.children,r=(0,l.default)(e,d),a=i.default.createElement(i.default.Fragment,null,i.default.createElement(o.default,{onClick:r.onCancel,title:"取消",isMar:!0}),i.default.createElement(o.default,{onClick:r.onOk,title:r.okText||"确定",type:"primary"}));return i.default.createElement(n.default,(0,u.default)({style:{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 120px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:60,right:0,left:0,height:"100%",display:"flex",flexDirection:"column"},wrapClassName:"tiklab_user_modal",closable:!1,footer:a},r),t)}},1476:function(e,t,r){"use strict";r.r(t)},1477:function(e,t,r){"use strict";r.r(t)},1478:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(277));r(701);var u=a(r(700)),l=a(r(0)),i=r(34);r(1479);t.default=function(e){var t=e.userInfo,r=void 0===t?void 0:t,a=r||(0,i.getUser)();return l.default.createElement("div",{className:"tiklab-profile"},a.avatar&&"null"!==a.avatar?l.default.createElement(u.default,{src:a.avatar}):a.nickname&&"null"!==a.nickname?l.default.createElement(u.default,null,a.nickname.substring(0,1)):a.name&&"null"!==a.name?l.default.createElement(u.default,null,a.name.substring(0,1)):l.default.createElement(u.default,{icon:l.default.createElement(n.default,null)}))}},1479:function(e,t,r){"use strict";r.r(t)},1480:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(685);var n=a(r(686)),u=a(r(264)),l=a(r(0));r(1481);t.default=function(e){var t=e.firstItem,r=e.secondItem,a=e.onClick,i=e.children;return l.default.createElement("div",{className:"user-breadcrumb"},l.default.createElement(n.default,null,l.default.createElement("span",{className:a?"user-breadcrumb-first":"",onClick:a},a&&l.default.createElement(u.default,{style:{marginRight:8}}),l.default.createElement("span",{className:r?"user-breadcrumb-span":""},t)),r&&l.default.createElement("span",null," /   ",r)),l.default.createElement("div",null,i))}},1481:function(e,t,r){"use strict";r.r(t)},1482:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(278)),u=a(r(274)),l=a(r(264)),i=a(r(0));r(1483);t.default=function(e){var t=e.currentPage,r=e.changPage,a=e.page,o=a.totalPage,d=void 0===o?1:o,c=a.totalRecord,s=void 0===c?1:c;return d>1&&i.default.createElement("div",{className:"user-page"},i.default.createElement("div",{className:"user-page-record"},"  共",s,"条 "),i.default.createElement("div",{className:"".concat(1===t?"user-page-ban":"user-page-allow"),onClick:function(){return 1===t?null:r(t-1)}},i.default.createElement(l.default,null)),i.default.createElement("div",{className:"user-page-current"},t),i.default.createElement("div",{className:"user-page-line"}," / "),i.default.createElement("div",null,d),i.default.createElement("div",{className:"".concat(t===d?"user-page-ban":"user-page-allow"),onClick:function(){return t===d?null:r(t+1)}},i.default.createElement(u.default,null)),i.default.createElement("div",{className:"user-page-fresh",onClick:function(){return r(1)}},i.default.createElement(n.default,null)))}},1483:function(e,t,r){"use strict";r.r(t)},1484:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ListAction",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ListEmpty",{enumerable:!0,get:function(){return u.default}});var n=a(r(1485)),u=a(r(1487))},1485:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(344);var n=a(r(150)),u=a(r(265));r(697);var l=a(r(696));r(149);var i=a(r(67)),o=a(r(266)),d=a(r(0));r(1486);t.default=function(e){var t=e.edit,r=e.del;return d.default.createElement("span",{className:"user-listAction"},t&&d.default.createElement(i.default,{title:"修改"},d.default.createElement("span",{onClick:t,className:"edit",style:{cursor:"pointer",marginRight:15}},d.default.createElement(o.default,{style:{fontSize:16}}))),r&&d.default.createElement(n.default,{overlay:d.default.createElement("div",{className:"user-dropdown-more"},d.default.createElement("div",{className:"dropdown-more-item",onClick:function(){l.default.confirm({title:"确定删除吗？",content:d.default.createElement("span",{style:{color:"#f81111"}},"删除后无法恢复！"),okText:"确认",cancelText:"取消",onOk:function(){r()},onCancel:function(){}})}},"删除")),trigger:["click"],placement:"bottomRight"},d.default.createElement(i.default,{title:"更多"},d.default.createElement("span",{className:"del",style:{cursor:"pointer"}},d.default.createElement(u.default,{style:{fontSize:17}})))))}},1486:function(e,t,r){"use strict";r.r(t)},1487:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(239);var n=a(r(86)),u=a(r(0));t.default=function(e){var t=e.title;return u.default.createElement(n.default,{description:t||"没有查询到数据"})}},1488:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(691);var n=a(r(690)),u=a(r(275)),l=a(r(934)),i=a(r(767)),o=a(r(0));r(1192);t.default=function(e){var t=(0,i.default)({},((0,l.default)(e),e));return o.default.createElement(n.default,(0,i.default)({},t,{allowClear:!0,bordered:!1,autoComplete:"off",prefix:o.default.createElement(u.default,{style:{fontSize:16}}),className:"user-search-input",onChange:function(e){"click"===e.type&&t.onPressEnter(e),t.onChange&&t.onChange(e)}}))}},1489:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(257);var n=a(r(136)),u=a(r(767)),l=a(r(276)),i=a(r(750)),o=a(r(0));r(1192);var d=["children"];t.default=function(e){var t=e.children,r=(0,i.default)(e,d);return o.default.createElement("div",{className:"user-search-select"},o.default.createElement(n.default,(0,u.default)({},r,{bordered:!1,suffixIcon:o.default.createElement(l.default,null),className:"".concat(r.className)}),t))}},1490:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(340)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),i=a(r(1118));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var d=function(e){var t=e.visible,r=e.setVisible,a=e.getDomainUsers,n=e.userDir,o=e.domainId,d=e.domainType,c=e.domainUserStore,s=c.createDmUserAction,f=c.findDmUserListAction,p=c.createDefaultRole,m=(0,l.useState)([]),g=(0,u.default)(m,2),v=g[0],b=g[1],y=(0,l.useState)([]),h=(0,u.default)(y,2),O=h[0],E=h[1];(0,l.useEffect)((function(){t&&f({domainId:o}).then((function(e){0===e.code&&(E(e.data.map((function(e){return e.user.id}))),b(e.data.map((function(e){return e.user.id}))))}))}),[t]);var w=function(){b([]),r(!1)};return l.default.createElement(i.default,{visible:t,userDir:n,allSelectIds:O,selectedRowKeys:v,setSelectedRowKeys:b,handleOk:function(){var e=v.filter((function(e){return!O.includes(e)}));if(e&&0===e.length)w();else{var t=e.map((function(e){return s(t={domainId:o,domainType:d,user:{id:e}}),void p(t);var t}));Promise.all(t).then((function(e){setTimeout((function(){w(),a()}),200)}))}},handleCancel:w})},c=function(e,t){return e.visible===t.visible};t.default=(0,l.memo)(d,c)},1512:function(e,t,r){"use strict";r(1220)},1513:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1514));t.default=n.default},1514:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(343);var u=a(r(258)),l=a(r(340)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),o=r(148),d=r(34),c=a(r(1515)),s=a(r(1523)),f=a(r(1071)),p=r(272);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}r(1220);t.default=(0,o.inject)(p.ORG_STORE)((0,o.observer)((function(e){var t=e.orgStore,r=t.findOpenUserDirListAction,a=t.findOrgaOrChild,n=localStorage.getItem(d.LOCALSTORAGE_KEY.AUTH_CONFIG);if(n){var o=JSON.parse(n);if(!o.authType&&-1===o.appName.indexOf("soular"))return i.default.createElement(f.default,{module:"部门",link:"/orga"})}var p=(0,i.useState)([]),m=(0,l.default)(p,2),g=m[0],v=m[1],b=(0,i.useState)({}),y=(0,l.default)(b,2),h=y[0],O=y[1],E=(0,i.useState)(!1),w=(0,l.default)(E,2),P=w[0],_=w[1],j={currentPage:1,pageSize:10},k=(0,i.useState)(null),x=(0,l.default)(k,2),I=x[0],S=x[1],U=(0,i.useState)({orgaId:"111111"}),D=(0,l.default)(U,2),A=D[0],R=D[1],N=(0,i.useState)(null),M=(0,l.default)(N,2),L=M[0],C=M[1];(0,i.useEffect)((function(){r().then((function(e){e.code||v(e.data)}))}),[]),(0,i.useEffect)((function(){T()}),[A]);var T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_(!0),a(A).then((function(t){0===t.code&&(C(t.data),e&&W(t.data[0])),_(!1)}))},W=function(e){O(e),S({pageParam:j})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];T(e)};return i.default.createElement("div",{className:"orga_container"},i.default.createElement(u.default,{spinning:P},i.default.createElement("div",{className:"orga_container_body"},i.default.createElement(c.default,{orgStore:t,userDir:g,selectOrg:h,onSelect:W,loadTreeParams:z,setTreeParams:R,treeData:L,setTreeData:C}),i.default.createElement(s.default,{userDir:g,selectOrg:h,params:I,setParams:S,loadTreeParams:z}))))})))},1515:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(704);var u=a(r(703));r(685);var l=a(r(686));r(344);var i=a(r(150)),o=a(r(265));r(708);var d=a(r(705));r(149);var c=a(r(67)),s=a(r(270)),f=a(r(58));r(688);var p=a(r(253)),m=a(r(340)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),v=r(687),b=r(1014),y=r(944),h=a(r(1520));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.selectOrg,a=e.onSelect,n=e.loadTreeParams,f=e.userDir,O=e.setTreeParams,E=e.treeData,P=e.setTreeData,_=e.orgStore,j=_.deleteOrgaAction,k=_.findOrgaAction,x=_.findOrgaOrChild,I=(0,v.useTranslation)().t,S=(0,g.useState)(!1),U=(0,m.default)(S,2),D=U[0],A=U[1],R=(0,g.useState)(null),N=(0,m.default)(R,2),M=N[0],L=N[1],C=(0,g.useState)(!1),T=(0,m.default)(C,2),W=T[0],z=T[1],F=function(e,t,r){return e.map((function(e){return e.orgaId===t?r:e.children&&e.children.length>0?w(w({},e),{},{children:F(e.children,t,r)}):e}))},B={1:r(1521).default,2:r(1522).default,3:r(1223).default,4:r(1224).default,5:r(1223).default,6:r(1224).default},G=function(e){var r=e.dirId,a=e.orgaId,u=e.orgaName,f=e.orgaNumber;return g.default.createElement("div",{className:"orga-tree_item_action"},g.default.createElement("div",{className:"orga-tree_item_action_name",title:u},u),g.default.createElement("div",{className:"orga-tree_item_action_orgaNumber ".concat("1"===r?"action_orgaNumber_hide":"")},f),"1"===r&&g.default.createElement("div",{className:"tiklab_tree_actions"},g.default.createElement(l.default,null,g.default.createElement(b.PrivilegeButton,{code:"orga_add_orga"},g.default.createElement(c.default,{title:"添加部门"},g.default.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),L(t),A(!0)}(t,e)},className:"tiklab_tree_actions-icon"},g.default.createElement(s.default,null)))),g.default.createElement(i.default,{overlay:g.default.createElement("div",{className:"orga-tree-actions-menu"},g.default.createElement(b.PrivilegeButton,{code:"orga_update_orga"},g.default.createElement("div",{className:"orga-tree-actions-item",onClick:function(t){return function(e,t){e.stopPropagation(),k(t.orgaId).then((function(e){e.code||(L(e.data),z(!0),A(!0))}))}(t,e)}},"编辑组织")),"111111"!==a&&g.default.createElement(b.PrivilegeButton,{code:"orga_delete_orga"},g.default.createElement(d.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(r){return function(e,r){if(e.stopPropagation(),r.children.length>0)return p.default.error("组织中存在部门,不能删除");j(r.orgaId).then((function(e){e.code||n(r.orgaId===t.orgaId)}))}(r,e)},okText:"确定",cancelText:"取消"},g.default.createElement("div",{className:"orga-tree-actions-item",onClick:function(e){return e.stopPropagation()}},"删除组织")))),trigger:["click","hover"]},g.default.createElement("span",{onClick:function(e){return e.stopPropagation()},className:"tiklab_tree_actions-icon"},g.default.createElement(o.default,null))))))},q=function(e){return null==e?void 0:e.map((function(e){var t,r,a,n;return e.children&&e.children.length>0?g.default.createElement(u.default.TreeNode,{title:G(e),key:e.orgaId,sort:e.sort,dirId:e.dirId,orgaName:e.orgaName,parentOrga:e.parentOrga,icon:"111111"===e.orgaId||"111111"===(null===(t=e.parentOrga)||void 0===t?void 0:t.orgaId)?g.default.createElement("img",{src:B[e.dirId],width:14,height:14,alt:""}):g.default.createElement(g.default.Fragment,null),isLeaf:0===(null===(r=e.children)||void 0===r?void 0:r.length)},q(e.children)):g.default.createElement(u.default.TreeNode,{title:G(e),key:e.orgaId,sort:e.sort,dirId:e.dirId,orgaName:e.orgaName,parentOrga:e.parentOrga,icon:"111111"===e.orgaId||"111111"===(null===(a=e.parentOrga)||void 0===a?void 0:a.orgaId)?g.default.createElement("img",{src:B[e.dirId],width:14,height:14,alt:""}):g.default.createElement(g.default.Fragment,null),isLeaf:0===(null===(n=e.children)||void 0===n?void 0:n.length)})}))};return g.default.createElement("div",{className:"orga-tree-wrap"},g.default.createElement("div",{className:"orga-tree-wrap-upper"},g.default.createElement(y.BreadCrumb,{firstItem:"部门"},g.default.createElement(c.default,{title:"添加部门"},g.default.createElement("div",{className:"upper-add",onClick:function(){E[0]&&"1"===E[0].dirId?L(E[0]):L({orgaId:"111111"}),A(!0),z(!1)}},g.default.createElement(s.default,null)))),g.default.createElement(y.SearchInput,{placeholder:I("orga-common.search")+I("orga-common.orga")+I("orga-common.name"),onPressEnter:function(e){e.target.value?O({orgaName:e.target.value}):O({orgaId:"111111"})}})),g.default.createElement("div",{className:"orga-tree-wrap-tree"},(null==E?void 0:E.length)>0?g.default.createElement(u.default.DirectoryTree,{blockNode:!0,multiple:!0,showIcon:!0,defaultExpandParent:!0,defaultExpandedKeys:["111111"],defaultSelectedKeys:["111111"],selectedKeys:[null==t?void 0:t.orgaId],loadData:function(e){return new Promise((function(t){var r=e.key;e.children?t():x({orgaId:r}).then((function(e){if(0===e.code){var a=F(E,r,e.data[0]);P(a)}t()}))}))},onSelect:function(e,t){var r=t.node,n={orgaName:r.orgaName,parentOrga:r.parentOrga,sort:r.sort,orgaId:r.key,dirId:r.dirId,path:r.path};a(n)}},q(E)):g.default.createElement(y.ListEmpty,null)),g.default.createElement(h.default,{isEdit:W,userDir:f,visible:D,editData:M,selectOrg:t,getTree:function(e){n(!1)},cancelAddOrg:function(){A(!1),L({}),z(!1)}}))}},1520:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(257);var u=a(r(136));r(722);var l=a(r(721));r(691);var i=a(r(690)),o=a(r(58));r(695);var d=a(r(694)),c=a(r(340)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),f=r(22),p=r(148),m=r(34),g=r(687),v=r(944),b=r(272);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,p.inject)(b.ORG_STORE)((0,p.observer)((function(e){var t=e.visible,r=e.isEdit,a=e.cancelAddOrg,n=e.editData,o=e.selectOrg,p=e.getTree,b=e.userDir,y=void 0===b?[]:b,h=e.orgStore.findOrgaTreeAction,E=d.default.useForm(),w=(0,c.default)(E,1)[0],P=(0,g.useTranslation)().t,_=(0,s.useState)(null),j=(0,c.default)(_,2),k=j[0],x=j[1],I=(0,s.useState)([]),S=(0,c.default)(I,2),U=S[0],D=S[1];(0,s.useEffect)((function(){t&&n&&(r?(w.setFieldsValue({parentOrga:n.parentOrga?n.parentOrga.orgaId:null,orgaName:n.orgaName,dirId:n.dirId}),x(n.path)):(w.setFieldsValue({parentOrga:n.orgaId}),n.path?x("".concat(n.orgaId,",").concat(n.path)):x("".concat(n.orgaId))))}),[t,n]),(0,s.useEffect)((function(){t&&h({dirId:"1"}).then((function(e){e.code||D(e.data)}))}),[t]);var A,R;return s.default.createElement(v.BaseModal,{title:r?P("orga-common.edit")+P("orga-common.orga"):P("orga-common.add")+P("orga-common.orga"),visible:t,onCancel:function(){w.resetFields(),a()},onOk:function(){w.submit()}},s.default.createElement(d.default,{form:w,onFinish:function(e){var t="/user/orga/createOrga",u={orgaName:e.orgaName,parentOrga:{orgaId:e.parentOrga},dirId:e.dirId,path:k};r&&(t="/user/orga/updateOrga",u=O(O({},u),{},{orgaId:n.orgaId})),m.Axios.post(t,u).then((function(t){t.code||(o.orgaId===n.orgaId&&(o.orgaName=e.orgaName),p(e.parentOrga),w.resetFields(),a())}))},layout:"vertical"},s.default.createElement(d.default.Item,{label:P("orga-label.orgaName"),name:"orgaName",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},s.default.createElement(i.default,null)),s.default.createElement(d.default.Item,{label:P("orga-label.parentOrg"),name:"parentOrga"},s.default.createElement(l.default,{disabled:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(A=[],R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var a={};if(e.orgaId===(null==n?void 0:n.orgaId)){if(a={title:e.orgaName,value:e.orgaId,path:e.path,disabled:!0},t.push(a),e.children&&e.children.length>0)return R(e.children,a.children=[],a.disabled)}else a={title:e.orgaName,value:e.orgaId,path:e.path,disabled:r},t.push(a);if(e.children&&e.children.length>0)return R(e.children,a.children=[],r)}))},R((0,f.toJS)(U.filter((function(e){return!e.parentOrga}))),A),A),placeholder:P("orga-label.parentOrgPlaceholder"),treeDefaultExpandedKeys:[U.length>0&&U[0].orgaId],onChange:function(e,t,r){var a=r.triggerNode.props.path;x(a?"".concat(a,",").concat(e):e)}})),s.default.createElement(d.default.Item,{label:P("orga-label.userType"),name:"dirId",initialValue:"1",rules:[{required:!0,message:P("orga-table.userTypeRequired")}]},s.default.createElement(u.default,{disabled:!0},y.map((function(e){return s.default.createElement(u.default.Option,{key:e.id,value:e.id},e.name)}))))))})))},1521:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/inline.png"},1522:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/ldap1.png"},1523:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(681);var u=a(r(683));r(682);var l=a(r(684));r(343);var i=a(r(258)),o=a(r(767));r(693);var d=a(r(692));r(685);var c=a(r(686)),s=a(r(58)),f=a(r(340)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),m=r(148),g=r(687),v=r(1014),b=r(944),y=r(1524),h=a(r(1525));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,m.inject)("orgStore")((0,m.observer)((function(e){var t,r,a=e.selectOrg,n=e.userDir,s=e.params,m=e.setParams,O=e.loadTreeParams,E=e.orgStore,P=E.deleteUserOrgaAction,_=E.findUserOrgaPageAction,j=(0,g.useTranslation)().t,k={currentPage:1,pageSize:10},x=(0,p.useState)([]),I=(0,f.default)(x,2),S=I[0],U=I[1],D=(0,p.useState)({}),A=(0,f.default)(D,2),R=A[0],N=A[1],M=(0,p.useState)(!1),L=(0,f.default)(M,2),C=L[0],T=L[1],W=(0,p.useState)(!1),z=(0,f.default)(W,2),F=z[0],B=z[1],G=(0,p.useState)(null),q=(0,f.default)(G,2),K=q[0],V=q[1];(0,p.useEffect)((function(){null!=a&&a.orgaId&&s&&J()}),[s]),(0,p.useEffect)((function(){null!=a&&a.orgaId&&V(null)}),[a]);var J=function(){T(!0),_(w(w({},s),{},{orgaId:a.orgaId})).then((function(e){0===e.code&&(N({totalPage:e.data.totalPage,totalRecord:e.data.totalRecord,currentPage:e.data.currentPage}),U(e.data.dataList)),T(!1)}))},H=function(e){m(w(w({},s),{},{pageParam:{currentPage:e,pageSize:10}}))},Q=[{title:j("orga-table.nickname"),dataIndex:["user","nickname"],width:"15%",ellipsis:!0,render:function(e,t){return p.default.createElement(c.default,null,p.default.createElement(b.Profile,{userInfo:null==t?void 0:t.user}),e)}},{title:j("orga-table.name"),dataIndex:["user","name"],width:"14%",ellipsis:!0,render:function(e){return e||"--"}},{title:j("orga-table.phone"),dataIndex:["user","phone"],width:"15%",ellipsis:!0,render:function(e){return e||"--"}},{title:j("orga-table.email"),dataIndex:["user","email"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"部门",dataIndex:["orga","orgaName"],width:"15%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:["user","dirId"],width:"15%",ellipsis:!0,render:function(e){var t=n.findIndex((function(t){return t.id===e}));return t>-1?n[t].name:"--"}},{title:j("orga-common.action"),key:"action",width:"8%",ellipsis:!0,render:function(e,t){return("1"===t.user.dirId||"0"===t.user.dirId)&&p.default.createElement(v.PrivilegeButton,null,p.default.createElement(b.ListAction,{del:function(){return e=t.id,void P(e).then((function(e){if(!e.code){var t=(0,y.deleteSuccessReturnCurrenPage)(R.totalRecord,10,s.pageParam.currentPage);H(t),O()}}));var e}}))}}];return p.default.createElement(u.default,{className:"orga_table"},p.default.createElement(l.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"24"},xxl:{span:"20",offset:"2"},className:"orga_table_right"},p.default.createElement(b.BreadCrumb,{firstItem:(null==a?void 0:a.orgaName)||"部门"}),a?p.default.createElement(i.default,{spinning:C},p.default.createElement("div",{className:"org-detail"},p.default.createElement("div",{className:"org-detail-item"},p.default.createElement("label",null,j("orga-label.parentOrg"),"："),(null===(t=a.parentOrga)||void 0===t?void 0:t.orgaName)||"无上级"),p.default.createElement("div",{className:"org-detail_title2_main"},p.default.createElement("span",{className:"org-detail_user_title2"},"用户",p.default.createElement("span",{className:"org-detail_user_title2_num"},R.totalRecord)),p.default.createElement(v.PrivilegeButton,null,p.default.createElement(b.Btn,{type:"1"!==a.dirId?"disabled":"primary",onClick:"1"!==a.dirId?null:function(){B(!0)},title:j("orga-label.addUser")}))),p.default.createElement("div",{className:"org-detail-table"},p.default.createElement(b.SearchInput,{placeholder:"搜索姓名、用户名",onPressEnter:function(e){m(w(w({},s),{},{userName:e.target.value,pageParam:k}))},style:{width:200},value:K,onChange:function(e){return V(e.target.value)}})),p.default.createElement("div",{className:"org-detail-table"},p.default.createElement(d.default,{columns:Q,dataSource:S,pagination:!1,rowKey:function(e){return e.id},tableLayout:"fixed",locale:{emptyText:p.default.createElement(b.ListEmpty,null)}}),p.default.createElement(b.Page,{currentPage:(null==s||null===(r=s.pageParam)||void 0===r?void 0:r.currentPage)||1,changPage:H,page:R})),p.default.createElement(h.default,(0,o.default)({},e,{orgId:a.orgaId,visible:F,setVisible:B,getOrgaUser:J,loadTreeParams:O,dirId:a.dirId,userDir:n})))):p.default.createElement(b.ListEmpty,{title:"组织树结构为空，你需要创建一个"})))})))},1524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSuccessReturnCurrenPage=void 0;t.deleteSuccessReturnCurrenPage=function(e,t,r){return e>=r*t?r:e<=(r-1)*t+1?1===r?1:r-1:r}},1525:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(340)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),i=r(34),o=a(r(1118));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.default=function(e){var t=e.visible,r=e.setVisible,a=e.orgId,n=e.getOrgaUser,d=e.userDir,c=e.loadTreeParams,s=(0,l.useState)([]),f=(0,u.default)(s,2),p=f[0],m=f[1],g=(0,l.useState)([]),v=(0,u.default)(g,2),b=v[0],y=v[1];(0,l.useEffect)((function(){t&&i.Axios.post("/user/userOrga/findUserOrgaList",{orgaId:a}).then((function(e){0===e.code&&(y(e.data.map((function(e){return e.user.id}))),m(e.data.map((function(e){return e.user.id}))))}))}),[t]);var h=function(){m([]),r(!1)};return l.default.createElement(o.default,{visible:t,userDir:d,allSelectIds:b,selectedRowKeys:p,setSelectedRowKeys:m,handleOk:function(){var e=p.filter((function(e){return!b.includes(e)})).map((function(e){return t={user:{id:e},orga:{orgaId:a}},i.Axios.post("/user/userOrga/createUserOrga",t);var t}));Promise.all(e).then((function(e){h(),n({orgaId:a},1),c()}))},handleCancel:h})}},1526:function(e,t,r){"use strict";r.r(t)},1527:function(e,t,r){"use strict";r(1225)},1528:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1529));t.default=n.default},1529:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(39));r(681);var l=a(r(683));r(682);var i=a(r(684)),o=a(r(767));r(343);var d=a(r(258));r(693);var c=a(r(692));r(344);var s=a(r(150));r(149);var f=a(r(67)),p=a(r(265));r(685);var m=a(r(686)),g=a(r(285));r(697);var v=a(r(696)),b=a(r(58)),y=a(r(111)),h=a(r(340)),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=D(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),E=r(148),w=r(22),P=r(34),_=r(687),j=r(1014),k=r(944),x=a(r(1530)),I=a(r(1531)),S=a(r(1532)),U=a(r(1071));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(D=function(e){return e?r:t})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,b.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(1225);t.default=(0,E.inject)("userStore")((0,E.observer)((function(e){var t=localStorage.getItem(P.LOCALSTORAGE_KEY.AUTH_CONFIG);if(t){var r=JSON.parse(t);if(!r.authType&&-1===r.appName.indexOf("soular"))return O.default.createElement(U.default,{module:"用户",link:"/user"})}var a=e.userStore,n=e.SASSComponentSearch,b=e.saasRefresh,E=void 0!==b&&b,D=e.setSaasRefreshStatus,A=e.bgroup,N=a.userData,M=a.getUserList,L=a.deleteUser,C=a.deleteExternalMember,T=a.findAdminRoleUser,W=a.findRoleUserListQueryByRole,z=a.findUserPageAction,F=a.findUserOrgaList,B=a.findUserGroupList,G=a.findUserDirList,q=a.deleteUserAction,K=(0,_.useTranslation)().t,V={pageSize:13,currentPage:1},J=(0,O.useState)(!1),H=(0,h.default)(J,2),Q=H[0],Y=H[1],$=(0,O.useState)(!1),Z=(0,h.default)($,2),X=Z[0],ee=Z[1],te=(0,O.useState)({}),re=(0,h.default)(te,2),ae=re[0],ne=re[1],ue=(0,O.useState)({pageParam:V}),le=(0,h.default)(ue,2),ie=le[0],oe=le[1],de=(0,O.useState)({}),ce=(0,h.default)(de,2),se=ce[0],fe=ce[1],pe=(0,O.useState)([]),me=(0,h.default)(pe,2),ge=me[0],ve=me[1],be=(0,O.useState)(!1),ye=(0,h.default)(be,2),he=ye[0],Oe=ye[1],Ee=(0,O.useState)(null),we=(0,h.default)(Ee,2),Pe=we[0],_e=we[1],je=(0,O.useState)(null),ke=(0,h.default)(je,2),xe=ke[0],Ie=ke[1],Se=(0,O.useState)(!1),Ue=(0,h.default)(Se,2),De=Ue[0],Ae=Ue[1];(0,O.useEffect)((function(){G().then((function(e){0===e.code&&ve(e.data)})),T().then((function(e){0===e.code&&Ie(e.data)}))}),[]),(0,O.useEffect)((function(){E?(Re(),D()):Re()}),[E,ie]);var Re=function(){Ae(!0),z(ie).then(function(){var e=(0,y.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code){e.next=6;break}return fe({totalRecord:t.data.totalRecord,totalPage:t.data.totalPage}),e.next=4,Promise.all(Ne(t.data.dataList));case 4:r=e.sent,M(r);case 6:Ae(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Ne=function(e){return e.map(function(){var e=(0,y.default)(u.default.mark((function e(t){var r,a,n,l,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n={userId:t.id,scope:1,type:1},e.next=4,W(n);case 4:return l=e.sent,e.next=7,F(n);case 7:return i=e.sent,0===l.code&&l.data&&(r=l.data.map((function(e){return R(R({},e.role),{},{roleUserId:e.id})})).filter((function(e){return"1"===e.type&&1===e.scope}))),0===i.code&&i.data&&(a=i.data.map((function(e){return R(R({},e.orga),{},{orgaUserId:e.id})}))),e.abrupt("return",R(R({},t),{},{roleList:r,orgaList:a}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Me=function(e){var t=e.dirId;v.default.confirm({title:"确认删除用户".concat(e.nickname),icon:O.default.createElement(g.default,null),content:"0"===t?"该用户为外部成员，删除用户后，用户将被移出企业":"删除用户后，该用户将被删除且无法登录",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){Le(e)},onCancel:function(){}})},Le=function(){var e=(0,y.default)(u.default.mark((function e(t){var r,a,n,l,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,"0"!==t.dirId){e.next=10;break}return(n=new FormData).append("userId",r),n.append("tenantId",(0,P.getUser)().tenant),e.next=7,C(n);case 7:a=e.sent,e.next=15;break;case 10:return(l=new FormData).append("id",r),e.next=14,q(l);case 14:a=e.sent;case 15:0===a.code&&((i=(0,k.deleteSuccessReturnCurrenPage)(se.totalRecord,13,ie.pageParam.currentPage))===ie.pageParam.currentPage?(L(r),fe(R(R({},se),{},{totalRecord:se.totalRecord-1}))):We(i));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){_e(R(R({},e),{},{passwordType:t})),Oe(!0)},Te=function(e){B({userId:e.id}).then((function(t){0===t.code||t.data?(ne(R(R({},e),{},{groupList:t.data.map((function(e){return R(R({},e.userGroup),{},{groupUserId:e.id})}))})),ee(!0)):(ne(e),ee(!0))}))},We=function(e){oe(R(R({},ie),{},{pageParam:{pageSize:13,currentPage:e}}))},ze=function(e){var t,r=e.dirId,a=e.id;if("0"===r){var n,u;if((null==xe||null===(n=xe.user)||void 0===n?void 0:n.id)===a)return;if((null==xe||null===(u=xe.user)||void 0===u?void 0:u.id)===(0,P.getUser)().userId)return O.default.createElement(j.PrivilegeButton,{code:"user_delete_user"},O.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Me(e)}},"删除用户"))}if("1"===r)return(null==xe||null===(t=xe.user)||void 0===t?void 0:t.id)===a?O.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Ce(e,"update")}},"修改密码"):O.default.createElement(O.default.Fragment,null,O.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Ce(e,"update")}},"修改密码"),O.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Ce(e,"reset")}},"找回密码"),O.default.createElement(j.PrivilegeButton,{code:"user_delete_user"},O.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Me(e)}},"删除用户")))},Fe=[{title:K("orga-table.nickname"),dataIndex:"nickname",key:"nickname",width:"22%",ellipsis:!0,render:function(e,t){return O.default.createElement(m.default,{className:"user-data-name",onClick:function(){return Te(t)}},O.default.createElement(k.Profile,{userInfo:t}),e)}},{title:K("orga-table.name"),dataIndex:"name",key:"name",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:K("orga-table.org"),dataIndex:"org",key:"org",width:"18%",ellipsis:!0,render:function(e,t){var r=t.orgaList;return r.length>0?O.default.createElement("span",null,r[0].orgaName,r.length>1&&O.default.createElement(O.default.Fragment,null,"(+",r.length-1,")")):"--"}},{title:"角色",dataIndex:"role",key:"role",width:"15%",ellipsis:!0,render:function(e,t){var r=t.roleList;return r.length>0?O.default.createElement("span",null,r[0].name,r.length>1&&O.default.createElement(O.default.Fragment,null,"(+",r.length-1,")")):"--"}},{title:K("orga-table.type"),dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e,t){if("0"===e&&"111111"===t.id)return"个人账号";var r=ge.findIndex((function(t){return t.id===e}));return r>-1?ge[r].name:"--"}},{title:K("orga-common.action"),key:"action",width:"10%",render:function(e,t){return O.default.createElement(s.default,{overlay:O.default.createElement("div",{className:"user-dropdown-more"},O.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return Te(t)}},"编辑用户"),ze(t)),trigger:["click"],placement:"bottomRight"},O.default.createElement(f.default,{title:"更多"},O.default.createElement(p.default,{className:"user-data-action"})))}}];return O.default.createElement(l.default,{className:"user_content"},O.default.createElement(i.default,{sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"22",offset:"1"},xxl:{span:"18",offset:"3"},className:"user_content_detail"},O.default.createElement(k.BreadCrumb,{firstItem:"用户"},O.default.createElement(m.default,{size:"middle"},n,O.default.createElement(j.PrivilegeButton,{code:"user_add_user"},O.default.createElement(k.Btn,{type:"primary",onClick:function(){return Y(!0)},title:K("orga-label.addUser")})))),O.default.createElement("div",{style:{marginBottom:15}},O.default.createElement(k.SearchInput,{placeholder:"搜索姓名、用户名",style:{width:190},onPressEnter:function(e){oe(R(R({},ie),{},{accent:e.target.value,pageParam:V}))}})),O.default.createElement(d.default,{spinning:De},O.default.createElement(c.default,{columns:Fe,dataSource:N,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:O.default.createElement(k.ListEmpty,null)}}),O.default.createElement(k.Page,{currentPage:ie.pageParam.currentPage,changPage:We,page:se})),O.default.createElement(x.default,(0,o.default)({},e,{visible:Q,setCreateVisible:Y,userDir:ge,bgroup:A,getUserPage:Re})),O.default.createElement(I.default,(0,o.default)({},e,{visible:X,setEditVisible:ee,data:(0,w.toJS)(ae),userDir:ge,bgroup:A,getUserPage:Re})),O.default.createElement(S.default,(0,o.default)({},e,{visible:he,setVisible:Oe,passWordObj:Pe,setPassWordObj:_e,adminUser:xe}))))})))},1530:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(695);var u=a(r(694)),l=a(r(340)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),o=r(944),d=a(r(1226));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=function(e){var t=e.visible,r=e.setCreateVisible,a=e.bgroup,n=e.userDir,c=e.userStore,s=e.getUserPage,f=u.default.useForm(),p=(0,l.default)(f,1)[0],m=function(){p.resetFields(),r(!1)};return i.default.createElement(o.BaseModal,{onOk:function(){p.submit()},onCancel:m,visible:t,title:"添加用户"},i.default.createElement(d.default,{data:{},isEdit:!1,bgroup:a,userDir:n,visible:t,userStore:c,adduserform:p,getUserPage:s,handleCancel:m}))};t.default=(0,i.memo)(s)},1531:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(717);var u=a(r(715));r(695);var l=a(r(694)),i=a(r(340)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),d=r(944),c=a(r(1226));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var f=function(e){var t=e.visible,r=e.setEditVisible,a=e.data,n=void 0===a?{}:a,s=e.userDir,f=e.bgroup,p=e.getUserPage,m=e.userStore,g=l.default.useForm(),v=(0,i.default)(g,1)[0],b=function(){v.resetFields(),r(!1)};return o.default.createElement(u.default,{placement:"right",onClose:b,visible:t,width:420,title:"用户详情",bodyStyle:{padding:0},maskStyle:{background:"transparent"},getContainer:!1},o.default.createElement("div",{className:"user-edit-drawer"},o.default.createElement(c.default,{data:n,isEdit:!0,bgroup:f,visible:t,userDir:s,userStore:m,adduserform:v,getUserPage:p,handleCancel:b}),o.default.createElement("div",{className:"tiklab_user_footer"},o.default.createElement(d.Btn,{onClick:b,isMar:!0},"取消"),"1"===n.dirId&&o.default.createElement(d.Btn,{type:"primary",onClick:function(){v.submit()}},"保存"))))};t.default=(0,o.memo)(f)},1532:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(691);var u=a(r(690));r(688);var l=a(r(253)),i=a(r(58));r(695);var o=a(r(694)),d=a(r(340)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),s=r(944),f=r(362),p=r(34);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.visible,r=e.setVisible,a=e.passWordObj,n=e.setPassWordObj,i=e.adminUser,m=o.default.useForm(),g=(0,d.default)(m,1)[0],b=(0,c.useState)(null),y=(0,d.default)(b,2),h=y[0],O=y[1],E=function(){r(!1),n(null),O(null),g.resetFields(null)};return c.default.createElement(s.BaseModal,{onOk:function(){g.validateFields().then((function(e){if("update"===a.passwordType)(0,f.updatePassword)(v(v({},e),{},{id:a.id,dirId:a.dirId})).then((function(e){0===e.code?(l.default.info("修改成功"),E()):l.default.info(e.msg)}));else{if(h)return E();(0,f.recoverPassword)(v(v({},e),{},{id:a.id,dirId:a.dirId,type:(0,p.getUser)().userId===(null==i?void 0:i.user.id)?1:0})).then((function(e){0===e.code?O(e.data):l.default.info(e.msg)}))}}))},onCancel:E,visible:t,title:"update"===(null==a?void 0:a.passwordType)?"修改密码":"找回密码"},c.default.createElement(o.default,{form:g,preserve:!1,layout:"vertical",autoComplete:"off"},"update"===(null==a?void 0:a.passwordType)?c.default.createElement(c.default.Fragment,null,c.default.createElement(o.default.Item,{name:"password",label:"旧密码",rules:[{required:!0,message:"旧密码不能为空"}]},c.default.createElement(u.default.Password,null)),c.default.createElement(o.default.Item,{name:"newPassword",label:"新密码",rules:[{required:!0,message:"新密码不能为空"}]},c.default.createElement(u.default.Password,null))):h?c.default.createElement("div",{className:"user-password-recover-modal"},"新密码为",c.default.createElement("span",{className:"newRecover"},h)):(0,p.getUser)().userId===(null==i?void 0:i.user.id)?c.default.createElement("div",{className:"user-password-recover-modal"},"是否重置",c.default.createElement("span",{className:"newRecover"},null==a?void 0:a.nickname),"的密码"):c.default.createElement(o.default.Item,{name:"name",label:"手机号或邮箱",rules:[{required:!0,message:"手机号或邮箱不能为空"}]},c.default.createElement(u.default,null))))}},1533:function(e,t,r){"use strict";r(1227)},1534:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1535));t.default=n.default},1535:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(682);var u=a(r(684));r(343);var l=a(r(258));r(681);var i=a(r(683));r(110);var o=a(r(42));r(685);var d=a(r(686));r(701);var c=a(r(700)),s=a(r(340)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),p=r(34),m=r(944),g=r(280),v=a(r(1071)),b=a(r(1536)),y=a(r(1537));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}r(1227);var O=[{id:"2",name:"LDAP"},{id:"3",name:"钉钉"},{id:"4",name:"企业微信"}];t.default=function(e){var t=e.bgroup,r=e.spinning,a=void 0!==r&&r,n=localStorage.getItem(p.LOCALSTORAGE_KEY.AUTH_CONFIG);if(n){var h=JSON.parse(n);if(!h.authType&&-1===h.appName.indexOf("soular"))return f.default.createElement(v.default,{module:"用户目录",link:"/dir"})}var E=(0,f.useState)([]),w=(0,s.default)(E,2),P=w[0],_=w[1],j=(0,f.useState)(!1),k=(0,s.default)(j,2),x=k[0],I=k[1];(0,f.useEffect)((function(){return S(),function(){return _([])}}),[]);var S=function(){var e={ids:["1"]};try{0}catch(t){e={ids:["1"]}}p.Axios.post("/user/userdir/findDirByIds",e).then((function(e){if(!e.code){var t=e.data;_(t)}}))};return f.default.createElement(i.default,{className:"directory"},f.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"20",offset:"2"},xxl:{span:"18",offset:"3"},className:"directory-wrap"},f.default.createElement(m.BreadCrumb,{firstItem:"用户目录"}),f.default.createElement(l.default,{spinning:a},f.default.createElement("div",{className:"directory_content"},P.map((function(e){return f.default.createElement(i.default,{justify:"space-between",align:"middle",key:e.id,style:{padding:16}},f.default.createElement("div",{className:"directory_content_item"},f.default.createElement(c.default,{size:64}),f.default.createElement("div",{className:"directory_content_item_title"},f.default.createElement(d.default,{direction:"vertical"},f.default.createElement("div",null,e.name),f.default.createElement("p",{className:"dir-plugin_content_desc"},"这是一个描述内容")))),f.default.createElement(d.default,null,f.default.createElement(o.default,{disabled:!0},"同步数据"),f.default.createElement(o.default,{disabled:!0},"开启"),f.default.createElement(o.default,{disabled:!0},"禁止"),f.default.createElement(o.default,{disabled:!0},"配置")))})),(0,p.disableFunction)()?O.map((function(e){return f.default.createElement(i.default,{justify:"space-between",align:"middle",key:e.id,style:{padding:16}},f.default.createElement("div",{className:"directory_content_item"},f.default.createElement(c.default,{size:64,src:g.dirImg[e.id]}),f.default.createElement("div",{className:"directory_content_item_title"},f.default.createElement(d.default,{direction:"vertical"},f.default.createElement(d.default,null,f.default.createElement("div",null,e.name),f.default.createElement("img",{src:b.default,alt:"",height:16,width:16})),f.default.createElement("p",{className:"directory_content_desc"},g.dirDesc[e.id])))),f.default.createElement(d.default,null,f.default.createElement(o.default,{disabled:!0},"同步数据"),f.default.createElement(o.default,{onClick:function(){return I(!0)}},"开启"),f.default.createElement(o.default,{disabled:!0},"禁止"),f.default.createElement(o.default,{disabled:!0},"配置")))})):null==e?void 0:e.children,f.default.createElement(m.BaseModal,{visible:x,title:"增强功能",okText:"订阅",onCancel:function(){return I(!1)},onOk:function(){return(0,p.applySubscription)(t)}},f.default.createElement("div",{className:"directory-enhance-modal"},f.default.createElement("div",{className:"directory-enhance-modal-img"},f.default.createElement("img",{src:y.default,width:"100%",alt:""})),f.default.createElement("div",{className:"directory-enhance-modal-desc"},"订阅开启增强功能")))))))}},1536:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/enhancements.png"},1537:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/enhancementsDir.png"},1538:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(681);var u=a(r(683));r(682);var l=a(r(684));r(693);var i=a(r(692)),o=a(r(340)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),c=r(34),s=a(r(1539)),f=a(r(1540)),p=r(1014),m=a(r(1071));r(1229);var g=r(944);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}t.default=function(e){var t=e.isBase,r=void 0!==t&&t,a=localStorage.getItem(c.LOCALSTORAGE_KEY.AUTH_CONFIG);if(a){var n=JSON.parse(a);if(!n.authType&&-1===n.appName.indexOf("soular"))return d.default.createElement(m.default,{module:"用户",link:"/userGroup"})}var v=(0,d.useState)(!1),b=(0,o.default)(v,2),y=b[0],h=b[1],O=(0,d.useState)(null),E=(0,o.default)(O,2),w=E[0],P=E[1],_=(0,d.useState)([]),j=(0,o.default)(_,2),k=j[0],x=j[1],I=(0,d.useState)(null),S=(0,o.default)(I,2),U=S[0],D=S[1];(0,d.useEffect)((function(){A()}),[]);var A=function(){c.Axios.post("/usergroup/findAllGroup").then((function(e){0===e.code&&x(e.data)}))},R=[{title:"名称",dataIndex:"name",width:"30%",ellipsis:!0,render:function(e,t){return d.default.createElement("div",{className:"user-group-table-name",onClick:function(){return function(e){D(e)}(t)}},e)}},{title:"成员数",dataIndex:"userNum",width:"30%",ellipsis:!0},{title:"创建方式",dataIndex:"group",width:"30%",ellipsis:!0,render:function(e){return"system"===e?"内置":"自定义"}},{title:"操作",dataIndex:"action",width:"10%",ellipsis:!0,render:function(e,t){var r=t.type,a=t.id;return 1!==r&&d.default.createElement(g.ListAction,{edit:function(){return P(t),void h(!0)},del:function(){return function(e){var t=new FormData;t.append("id",e),c.Axios.post("/usergroup/deleteGroup",t).then((function(e){0===e.code&&A()}))}(a)}})}}];return U?d.default.createElement(f.default,{groupData:U,setGroupData:D,getUserGroupList:A}):d.default.createElement(u.default,{className:"user-group"},d.default.createElement(l.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},d.default.createElement(g.BreadCrumb,{firstItem:"用户组"},d.default.createElement(p.PrivilegeButton,{code:"user_add_group"},d.default.createElement(g.Btn,{onClick:function(){P(null),h(!0)},type:"primary"},"添加用户组"))),d.default.createElement("div",null,d.default.createElement(i.default,{columns:R,dataSource:k,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:d.default.createElement(g.ListEmpty,null)}}),d.default.createElement(s.default,{open:y,setOpen:h,data:w,isBase:r,getUserGroupList:A}))))}},1539:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(r(39));r(349);var l=a(r(152));r(691);var i=a(r(690));r(688);var o=a(r(253)),d=a(r(111)),c=a(r(58));r(695);var s=a(r(694)),f=a(r(340)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),m=r(34),g=r(944);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.isBase,r=e.open,a=e.data,n=e.setOpen,c=e.getUserGroupList,v=s.default.useForm(),b=(0,f.default)(v,1)[0];(0,p.useEffect)((function(){r&&a&&b.setFieldsValue(y({},a))}),[r]);var h=function(){b.resetFields(),n(!1)},O=function(){var e=(0,d.default)(u.default.mark((function e(r){var n,l;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=y(y({},r),{},{group:t?"system":"custom"}),!a){e.next=8;break}return l=y(y({},a),l),e.next=5,m.Axios.post("/usergroup/updateGroup",l);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,m.Axios.post("/usergroup/createGroup",l);case 10:n=e.sent;case 11:0===n.code?(o.default.success("成功"),h(),c()):o.default.error("失败");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p.default.createElement(g.BaseModal,{title:"用户组",visible:r,onCancel:h,onOk:function(){b.submit()}},p.default.createElement(s.default,{form:b,onFinish:O,layout:"vertical"},p.default.createElement(s.default.Item,{label:"用户组名称",name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},p.default.createElement(i.default,{placeholder:"名称"})),t&&p.default.createElement(s.default.Item,{label:"设置管理员组",name:"type",initialValue:0},p.default.createElement(l.default.Group,null,p.default.createElement(l.default,{value:0},"普通组"),p.default.createElement(l.default,{value:1},"管理员组"))),p.default.createElement(s.default.Item,{label:"描述",name:"description"},p.default.createElement(i.default,{placeholder:"描述"}))))}},1540:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(681);var u=a(r(683));r(682);var l=a(r(684));r(693);var i=a(r(692)),o=a(r(58));r(685);var d=a(r(686)),c=a(r(340)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),f=r(34),p=r(687),m=a(r(1541)),g=r(1014),v=r(944);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.groupData,r=e.setGroupData,a=e.getUserGroupList,n=(0,p.useTranslation)().t,o=(0,s.useState)([]),b=(0,c.default)(o,2),y=b[0],O=b[1],E=(0,s.useState)(!1),w=(0,c.default)(E,2),P=w[0],_=w[1],j=[{title:"姓名",dataIndex:"nickname",width:"25%",ellipsis:!0,render:function(e,t){return s.default.createElement(d.default,null,s.default.createElement(v.Profile,{userInfo:t}),e)}},{title:"用户名",dataIndex:"name",width:"20%",ellipsis:!0},{title:n("orga-table.phone"),dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:n("orga-table.email"),dataIndex:"email",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:n("orga-common.action"),key:"action",width:"10%",render:function(e,t){return s.default.createElement(g.PrivilegeButton,{code:"user_delete_group_user"},s.default.createElement(v.ListAction,{del:function(){return x(t.groupUserLinkUserId)}}))}}];(0,s.useEffect)((function(){null!=t&&t.id&&k("init")}),[t]);var k=function(e){var r={groupId:t.id};f.Axios.post("/usergroupUser/findUserList",r).then((function(t){if(0===t.code){var r=t.data.map((function(e){return h(h({},e.user),{},{groupUserLinkUserId:e.id})}));O(r),"init"!==e&&a()}}))},x=function(e){var t=new FormData;t.append("id",e),f.Axios.post("/usergroupUser/deleteUser",t).then((function(e){k()}))};return s.default.createElement(u.default,{className:"user-group"},s.default.createElement(l.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},s.default.createElement(v.BreadCrumb,{firstItem:"用户组",secondItem:null==t?void 0:t.name,onClick:function(){return r(null)}}),s.default.createElement("div",{className:"label_item"},s.default.createElement("label",null,"创建方式："),s.default.createElement("span",null,"system"===(null==t?void 0:t.group)?"内置":"自定义")),s.default.createElement("div",{className:"user-group-right-title"},s.default.createElement("div",{className:"main_user"},"用户",s.default.createElement("span",{className:"main_user_num"},null==y?void 0:y.length)),s.default.createElement(g.PrivilegeButton,{code:"user_add_group_user"},s.default.createElement(v.Btn,{type:"primary",onClick:function(){_(!0)}},"添加用户"))),s.default.createElement(i.default,{columns:j,dataSource:y,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:s.default.createElement(v.ListEmpty,null)}}),s.default.createElement(m.default,{open:P,setOpen:_,tableData:y,getUserGroupLinkUserList:k,userGroupId:null==t?void 0:t.id,groupUserType:null==t?void 0:t.type})))}},1541:function(e,t,r){"use strict";var a=r(57),n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(688);var u=a(r(253)),l=a(r(340)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0)),o=r(34),d=a(r(1118));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}t.default=function(e){var t=e.open,r=e.setOpen,a=e.getUserGroupLinkUserList,n=e.userGroupId,c=e.tableData,s=(0,i.useState)([]),f=(0,l.default)(s,2),p=f[0],m=f[1],g=(0,i.useState)([]),v=(0,l.default)(g,2),b=v[0],y=v[1];(0,i.useEffect)((function(){c&&t&&(m(c.map((function(e){return e.id}))),y(c.map((function(e){return e.id}))))}),[t]);var h=function(){m([]),r(!1)};return i.default.createElement(d.default,{visible:t,allSelectIds:b,selectedRowKeys:p,setSelectedRowKeys:m,handleOk:function(){var e={userGroup:{id:n},userIds:p};o.Axios.post("/usergroupUser/createBatchUser",e).then((function(e){if(0!==e.code)return u.default.error(e.msg);h(),a()}))},handleCancel:h})}},267:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/dingding.png"},268:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/qywechat.png"},272:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DOMAIN_USER_STORE",{enumerable:!0,get:function(){return u.DOMAIN_USER_STORE}}),Object.defineProperty(t,"ORG_STORE",{enumerable:!0,get:function(){return l.ORG_STORE}}),Object.defineProperty(t,"USER_STORE",{enumerable:!0,get:function(){return i.USER_STORE}}),t.orgStores=void 0;var n=a(r(58)),u=r(394),l=r(395),i=r(362);t.orgStores=(0,n.default)((0,n.default)((0,n.default)({},l.ORG_STORE,new l.OrgStore),i.USER_STORE,new i.UserStore),u.DOMAIN_USER_STORE,new u.DomainUserStore)},280:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.dirImg=t.dirDesc=void 0,Object.defineProperty(t,"user_cn",{enumerable:!0,get:function(){return n.default}});var n=a(r(363));t.dirImg={2:r(364).default,3:r(267).default,4:r(268).default,5:r(267).default,6:r(268).default},t.dirDesc={2:"同步LDAP用户以及组织架构",3:"同步钉钉用户以及组织架构",4:"同步企业微信用户以及组织架构",5:"同步钉钉用户以及组织架构",6:"同步企业微信用户以及组织架构"}},281:function(e){e.exports=JSON.parse('{"orga-common":{"delete":"删除","edit":"编辑","action":"操作","save":"保存","back":"取消","search":"搜索","add":"添加","orga":"组织","name":"名称","detail":"详情","close":"关闭"},"orga-table":{"name":"用户名","nickname":"姓名","phone":"手机号","email":"邮箱","org":"部门","account":"帐号","userGroup":"用户组","orgaName":"所属机构","password":"初始密码","type":"用户目录","typeChild":"目录二级","thirdparty":"LDAP/AP","internal":"内部目录","dingding":"钉钉","acc":"ACC","wechat":"企业微信","all":"所有"},"adduser-module":{"addUser":"添加用户","editUser":"编辑用户","detailUser":"详情用户","userType":"用户类型","name":"用户名","nickname":"姓名","phone":"手机号","email":"邮箱","org":"部门","account":"帐号","orgaName":"所属机构","password":"初始密码","type":"用户目录","typeChild":"目录二级","thirdparty":"LDAP/AP","internal":"内部目录","dingding":"钉钉","acc":"ACC","wechat":"企业微信","all":"所有","userTypeRequired":"用户类型不能为空!","emailRequired":"邮箱不能为空!","emailFormat":"邮箱格式不正确!","passwordRequired":"密码不能为空!","phoneRequired":"手机号不能为空!","nameRequired":"用户名不能为空!","nicknameRequired":"姓名不能为空!"},"orga-label":{"addUser":"添加用户","orgaName":"机构名称","parentOrg":"上级机构","parentOrgPlaceholder":"请选择上级机构","parentOrgRequired":"上级机构必填!","user":"用户","searchUser":"搜索用户名称","searchUserPhoneEmail":"搜索姓名、用户名","searchUserAccount":"搜索姓名、用户名","userType":"用户目录"},"orga-tab":{"all":"全部","in":"内部","out":"外部"}}')},362:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePassword=t.recoverPassword=t.UserStore=t.USER_STORE=void 0;var n,u,l,i,o,d,c,s,f,p,m,g,v,b,y,h,O,E,w,P,_,j,k,x,I,S,U=a(r(39)),D=a(r(111)),A=a(r(87)),R=a(r(73)),N=a(r(72)),M=(a(r(58)),a(r(88))),L=(a(r(89)),r(22)),C=r(34);t.UserStore=(n=(0,R.default)((function e(){(0,N.default)(this,e),(0,A.default)(this,"userData",u,this),(0,A.default)(this,"rolePage",l,this),(0,A.default)(this,"qywxconfig",i,this),(0,A.default)(this,"agentConfig",o,this),(0,A.default)(this,"getUserList",d,this),(0,A.default)(this,"editUser",c,this),(0,A.default)(this,"addUser",s,this),(0,A.default)(this,"deleteUser",f,this),(0,A.default)(this,"findUserPageAction",p,this),(0,A.default)(this,"findUser",m,this),(0,A.default)(this,"createUserAction",g,this),(0,A.default)(this,"updateUserAction",v,this),(0,A.default)(this,"deleteUserAction",b,this),(0,A.default)(this,"findRolePageAction",y,this),(0,A.default)(this,"deleteRoleUserAction",h,this),(0,A.default)(this,"createRoleUserAction",O,this),(0,A.default)(this,"findRoleUserListAction",E,this),(0,A.default)(this,"findRoleUserListQueryByRole",w,this),(0,A.default)(this,"findUserRoleAdmin",P,this),(0,A.default)(this,"findAdminRoleUser",_,this),(0,A.default)(this,"findRoleUserPageAction",j,this),(0,A.default)(this,"findUserOrgaList",k,this),(0,A.default)(this,"findUserGroupList",x,this),(0,A.default)(this,"findUserDirList",I,this),(0,A.default)(this,"deleteExternalMember",S,this)})),u=(0,M.default)(n.prototype,"userData",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,M.default)(n.prototype,"rolePage",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{defaultCurrent:1,pageSize:6,total:1}}}),i=(0,M.default)(n.prototype,"qywxconfig",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=(0,M.default)(n.prototype,"agentConfig",[L.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=(0,M.default)(n.prototype,"getUserList",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=t}}}),c=(0,M.default)(n.prototype,"editUser",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=e.userData.map((function(e){return e.id===t.id?t:e}))}}}),s=(0,M.default)(n.prototype,"addUser",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=e.userData.concat(t)}}}),f=(0,M.default)(n.prototype,"deleteUser",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userData=e.userData.filter((function(e){return e.id!==t}))}}}),p=(0,M.default)(n.prototype,"findUserPageAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/findUserPage",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),m=(0,M.default)(n.prototype,"findUser",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){var a;return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("id",t),e.next=4,C.Axios.post("/user/user/findUser",a,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),g=(0,M.default)(n.prototype,"createUserAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/createUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),v=(0,M.default)(n.prototype,"updateUserAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/updateUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),b=(0,M.default)(n.prototype,"deleteUserAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/deleteUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),y=(0,M.default)(n.prototype,"findRolePageAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,D.default)(U.default.mark((function t(r,a){var n;return U.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.Axios.post("/role/findRolePage",r,a);case 2:return 0===(n=t.sent).code&&(e.rolePage.total=n.data.totalPage),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),h=(0,M.default)(n.prototype,"deleteRoleUserAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){var a;return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("id",t),e.next=4,C.Axios.post("/roleUser/deleteRoleUser",a,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),O=(0,M.default)(n.prototype,"createRoleUserAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/createRoleUser",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),E=(0,M.default)(n.prototype,"findRoleUserListAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/findRoleUserList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),w=(0,M.default)(n.prototype,"findRoleUserListQueryByRole",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/findRoleUserListQueryByRole",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),P=(0,M.default)(n.prototype,"findUserRoleAdmin",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){var a;return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("userId",t),e.next=4,C.Axios.post("/roleUser/findUserRoleAdmin",a,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),_=(0,M.default)(n.prototype,"findAdminRoleUser",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,D.default)(U.default.mark((function e(){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/findAdminRoleUser");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),j=(0,M.default)(n.prototype,"findRoleUserPageAction",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/roleUser/findRoleUserPage",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),k=(0,M.default)(n.prototype,"findUserOrgaList",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/userOrga/findUserOrgaList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),x=(0,M.default)(n.prototype,"findUserGroupList",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/usergroupUser/findUserList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),I=(0,M.default)(n.prototype,"findUserDirList",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t,r){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/userdir/findAllList",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}}),S=(0,M.default)(n.prototype,"deleteExternalMember",[L.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,D.default)(U.default.mark((function e(t){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/memberSaas/deleteMember",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),n),t.USER_STORE="userStore",t.updatePassword=function(){var e=(0,D.default)(U.default.mark((function e(t){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/updatePassword",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.recoverPassword=function(){var e=(0,D.default)(U.default.mark((function e(t){return U.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Axios.post("/user/user/recoverPassword",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},363:function(e,t,r){"use strict";r.r(t);var a=r(281);t.default=a},364:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/ldap.jpeg"},394:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.DomainUserStore=t.DOMAIN_USER_STORE=void 0;var n,u,l,i,o=a(r(39)),d=a(r(111)),c=a(r(87)),s=a(r(73)),f=a(r(72)),p=a(r(58)),m=a(r(88)),g=(a(r(89)),r(22)),v=r(34);t.DomainUserStore=(n=(0,s.default)((function e(){(0,f.default)(this,e),(0,c.default)(this,"privilegeDomainUsers",u,this),(0,c.default)(this,"getDomainUser",l,this),(0,c.default)(this,"deleteDomainUser",i,this),(0,p.default)(this,"findDmUserPageAction",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmUser/findDmUserPage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"deleteDmUserAction",function(){var e=(0,d.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,v.Axios.post("/dmUser/deleteDmUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmUserListAction",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmUser/findDmUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"createDmUserAction",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmUser/createDmUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"createDefaultRole",function(){var e=(0,d.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("userId",t.user.id),r.append("domainId",t.domainId),e.next=5,v.Axios.post("/dmRole/createDefaultRole",r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmRoleUserListAction",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRoleUser/findDmRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmRoleUserListByRole",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRoleUser/findDmRoleUserListByRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"createDmRoleUserAction",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRoleUser/createDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"deleteDmRoleUserAction",function(){var e=(0,d.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,v.Axios.post("/dmRoleUser/deleteDmRoleUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)(this,"findDmRoleListAction",function(){var e=(0,d.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Axios.post("/dmRole/findDmRoleList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),u=(0,m.default)(n.prototype,"privilegeDomainUsers",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,m.default)(n.prototype,"getDomainUser",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeDomainUsers=t}}}),i=(0,m.default)(n.prototype,"deleteDomainUser",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeDomainUsers=e.privilegeDomainUsers.filter((function(e){return e.id!==t}))}}}),n),t.DOMAIN_USER_STORE="domainUserStore"},395:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),t.OrgStore=t.ORG_STORE=void 0;var n,u,l,i,o,d,c,s,f,p=a(r(39)),m=a(r(111)),g=a(r(87)),v=a(r(73)),b=a(r(72)),y=(a(r(58)),a(r(88))),h=(a(r(89)),r(22)),O=r(34);t.OrgStore=(n=(0,v.default)((function e(){(0,b.default)(this,e),(0,g.default)(this,"findOpenUserDirListAction",u,this),(0,g.default)(this,"deleteOrgaAction",l,this),(0,g.default)(this,"findOrgaAction",i,this),(0,g.default)(this,"findOrgaTreeAction",o,this),(0,g.default)(this,"deleteUserOrgaAction",d,this),(0,g.default)(this,"findUserOrgaPageAction",c,this),(0,g.default)(this,"updateOrgaSortAction",s,this),(0,g.default)(this,"findOrgaOrChild",f,this)})),u=(0,y.default)(n.prototype,"findOpenUserDirListAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,m.default)(p.default.mark((function e(){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Axios.post("/user/userdir/findOpenList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),l=(0,y.default)(n.prototype,"deleteOrgaAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var r,a;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,O.Axios.post("/user/orga/deleteOrga",r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),i=(0,y.default)(n.prototype,"findOrgaAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var r;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,O.Axios.post("/user/orga/findOrga",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=(0,y.default)(n.prototype,"findOrgaTreeAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,m.default)(p.default.mark((function t(r){var a;return p.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.Axios.post("/user/orga/findOrgaTree",r);case 2:return(a=t.sent).code||(e.treeData=a.data),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d=(0,y.default)(n.prototype,"deleteUserOrgaAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var r;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,O.Axios.post("/user/userOrga/deleteUserOrga",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),c=(0,y.default)(n.prototype,"findUserOrgaPageAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var r;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Axios.post("/user/userOrga/findUserOrgaPage",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,y.default)(n.prototype,"updateOrgaSortAction",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Axios.post("/user/orga/updateSort",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),f=(0,y.default)(n.prototype,"findOrgaOrChild",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Axios.post("/user/orga/findOrgaOrChild",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),n),t.ORG_STORE="orgStore"},944:function(e,t,r){"use strict";var a=r(57);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseModal",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"BreadCrumb",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Btn",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ListAction",{enumerable:!0,get:function(){return d.ListAction}}),Object.defineProperty(t,"ListEmpty",{enumerable:!0,get:function(){return d.ListEmpty}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Profile",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"SearchInput",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SearchSelect",{enumerable:!0,get:function(){return s.default}}),t.deleteSuccessReturnCurrenPage=void 0;var n=a(r(1475)),u=a(r(1478)),l=a(r(1480)),i=a(r(1482)),o=a(r(1191)),d=r(1484),c=a(r(1488)),s=a(r(1489));t.deleteSuccessReturnCurrenPage=function(e,t,r){return e>=r*t?r:e<=(r-1)*t+1?1===r?1:r-1:r}}}]);