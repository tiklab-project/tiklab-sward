(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1754:function(e,n,l){"use strict";l.r(n);l(681);var s=l(683),r=(l(682),l(684)),t=l(0),i=l.n(t),a=l(1194),u=l(34),m=l(1195),c=l(400),o=l(401),d=l(108),N=l.n(d),j=l(277),b=l(315),f=l(316),h=l(317),g=l(308),v=l(318),p=l(319),_=l(320),k=l(996),y="/Users/gaomengyuan/tiklab/tiklab-sward-ui/src/setting/home/components/SettingHome.js";function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var s,r,t,i,a=[],u=!0,m=!1;try{if(t=(l=l.call(e)).next,0===n){if(Object(l)!==l)return;u=!1}else for(;!(u=(s=t.call(l)).done)&&(a.push(s.value),a.length!==n);u=!0);}catch(e){m=!0,r=e}finally{try{if(!u&&null!=l.return&&(i=l.return(),Object(i)!==i))return}finally{if(m)throw r}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return x(e,n);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?x(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,s=Array(n);l<n;l++)s[l]=e[l];return s}n.default=function(e){e.cloudVersion,e.setBackupVisible;var n,l,d,x,z=a.a.findOrgaNum,w=(a.a.findlogpage,a.a.setExpandedTree),O=a.a.expandedTree,U=m.a.findUseLicence,S=Object(u.getVersionInfo)(),A=E(Object(t.useState)(!1),2),T=A[0],C=A[1],D=null===(n=JSON.parse(localStorage.getItem("authConfig")))||void 0===n?void 0:n.authType,H=E(Object(t.useState)({}),2),I=H[0],F=H[1],M=E(Object(t.useState)(null),2),V=M[0],J=M[1],P=E(Object(t.useState)(null),2),Y=P[0],B=(P[1],function(e){(function(e){return O.some((function(n){return n===e}))})(e)||w(O.concat(e))}),q=[{title:"用户与权限",id:1,children:[{title:"用户",id:"/setting/user",parentUrl:"/setting/orga",icon:i.a.createElement(j.default,{__source:{fileName:y,lineNumber:118,columnNumber:27}}),islink:!0,num:(null==I?void 0:I.user)||0},{title:"部门",id:"/setting/orga",islink:!0,parentUrl:"/setting/orga",icon:i.a.createElement(b.a,{__source:{fileName:y,lineNumber:127,columnNumber:27}}),num:null==I?void 0:I.orga},{title:"用户组",id:"/setting/userGroup",parentUrl:"/setting/orga",islink:!0,icon:i.a.createElement(f.a,{__source:{fileName:y,lineNumber:136,columnNumber:27}}),num:(null==I?void 0:I.userGroup)||0},{title:"用户目录",id:"/setting/dir",parentUrl:"/setting/orga",islink:!0,icon:i.a.createElement(h.a,{__source:{fileName:y,lineNumber:145,columnNumber:27}}),num:(null==I?void 0:I.userDir)||0},{title:"权限",id:"/setting/systemRole",parentUrl:"/setting/orga",icon:i.a.createElement(g.a,{__source:{fileName:y,lineNumber:152,columnNumber:27}}),num:(null==I?void 0:I.role)||0}]},{title:"消息",id:2,children:[{title:"消息通知方案",id:"/setting/messageNotice",parentUrl:"/setting/messageNotice",icon:i.a.createElement("svg",{className:"icon-15","aria-hidden":"true",__source:{fileName:y,lineNumber:165,columnNumber:27}},i.a.createElement("use",{xlinkHref:"#icon-systemmessage",__source:{fileName:y,lineNumber:166,columnNumber:25}})),num:(null==I?void 0:I.messageNotice)||0},{title:"消息发送方式",id:"/setting/messageSendType",parentUrl:"/setting/messageNotice",icon:i.a.createElement(v.a,{__source:{fileName:y,lineNumber:174,columnNumber:27}}),num:(null==I?void 0:I.sendType)||0}]},{title:"数据安全",id:3,children:[{title:"上次备份",id:"/setting/backup",parentUrl:"/setting/log",iseEnhance:!1,icon:i.a.createElement(p.a,{__source:{fileName:y,lineNumber:188,columnNumber:27}}),num:(null==I?void 0:I.lastBackups)&&N()(I.lastBackups).format("MM-DD")||"无"},{title:"操作日志",id:"/setting/log",parentUrl:"/setting/log",icon:i.a.createElement(_.a,{__source:{fileName:y,lineNumber:195,columnNumber:27}}),num:(null==Y?void 0:Y.totalRecord)||"0"},{title:"归档",id:"/setting/archived",iseEnhance:!0,icon:i.a.createElement("svg",{className:"icon-15","aria-hidden":"true",__source:{fileName:y,lineNumber:202,columnNumber:27}},i.a.createElement("use",{xlinkHref:"#icon-systemreset",__source:{fileName:y,lineNumber:203,columnNumber:25}})),num:(null==I?void 0:I.archived)||0},{title:"回收站",id:"/setting/recycle",iseEnhance:!0,icon:i.a.createElement("svg",{className:"icon-15","aria-hidden":"true",__source:{fileName:y,lineNumber:211,columnNumber:27}},i.a.createElement("use",{xlinkHref:"#icon-systemrecycle",__source:{fileName:y,lineNumber:212,columnNumber:25}})),num:(null==I?void 0:I.recycle)||0}]}];Object(t.useEffect)((function(){z().then((function(e){0===e.code&&F(e.data)})),U().then((function(e){0===e.code&&J(e.data)}))}),[]);var G=function(){var e;return{expired:null===(e=Object(u.getVersionInfo)())||void 0===e?void 0:e.expired,time:null==V?void 0:V.issuedTime,authUser:I.applyAuth,userNum:(null==V?void 0:V.userNum)||0}};return i.a.createElement(s.default,{className:"setting-home",__source:{fileName:y,lineNumber:257,columnNumber:9}},i.a.createElement(r.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"18",offset:"3"},xl:{span:"14",offset:"5"},xxl:{span:"14",offset:"5"},__source:{fileName:y,lineNumber:258,columnNumber:13}},i.a.createElement("div",{className:"setting-home-limited",__source:{fileName:y,lineNumber:266,columnNumber:17}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"home-licence-box",__source:{fileName:y,lineNumber:308,columnNumber:32}},i.a.createElement("div",{className:"home-licence",__source:{fileName:y,lineNumber:309,columnNumber:37}},i.a.createElement("div",{className:"home-licence-item",__source:{fileName:y,lineNumber:310,columnNumber:41}},i.a.createElement("div",{className:"home-licence-item-level",__source:{fileName:y,lineNumber:311,columnNumber:45}},i.a.createElement("div",{className:"licence-level-img",__source:{fileName:y,lineNumber:312,columnNumber:49}},i.a.createElement("img",{src:Object(u.disableFunction)()?c.default:o.default,alt:"",__source:{fileName:y,lineNumber:313,columnNumber:53}})),i.a.createElement("div",{__source:{fileName:y,lineNumber:315,columnNumber:49}},i.a.createElement("div",{__source:{fileName:y,lineNumber:316,columnNumber:53}},i.a.createElement("span",{className:"licence-level-info",__source:{fileName:y,lineNumber:317,columnNumber:57}},Object(u.disableFunction)()?"社区版":"企业版"),(null==V?void 0:V.issuedTime)&&i.a.createElement("span",{className:"licence-level-issuedTime",__source:{fileName:y,lineNumber:319,columnNumber:61}},N()(V.issuedTime).format("YYYY-MM-DD HH:mm:ss"),"到期")),i.a.createElement("div",{className:"licence-level-applyAuth",__source:{fileName:y,lineNumber:323,columnNumber:53}},i.a.createElement("span",{className:"licence-level-applyAuth-title",__source:{fileName:y,lineNumber:324,columnNumber:57}},"授权人数："),i.a.createElement("span",{className:"licence-level-info licence-level-click",onClick:function(){e.history.push("/setting/productAuth")},__source:{fileName:y,lineNumber:325,columnNumber:57}},null===(l=G())||void 0===l?void 0:l.authUser," / ",null!==(d=G())&&void 0!==d&&d.expired?"不限制":(null===(x=G())||void 0===x?void 0:x.userNum)>0?G().userNum+"人":"不限制"))))),i.a.createElement("div",{className:"home-licence-sub",onClick:function(){return Object(u.applySubscription)("sward")},__source:{fileName:y,lineNumber:332,columnNumber:41}},null!=I&&I.version?"订阅":"续订"))),i.a.createElement("div",{className:"home-chunk-box",__source:{fileName:y,lineNumber:337,columnNumber:33}},q.map((function(n,l){return i.a.createElement("div",{className:"home-user-box",key:l,__source:{fileName:y,lineNumber:341,columnNumber:49}},i.a.createElement("div",{className:"home-title",__source:{fileName:y,lineNumber:342,columnNumber:53}},n.title),i.a.createElement("div",{className:"home-user",__source:{fileName:y,lineNumber:343,columnNumber:53}},n.children.map((function(n){return i.a.createElement("div",{className:"home-user-item",onClick:function(){return function(n){var l=n.id,s=n.iseEnhance;if(n.islink&&!D){var r,t=(null===(r=JSON.parse(localStorage.getItem("authConfig")))||void 0===r?void 0:r.authServiceUrl)+"#"+n.id;window.open(t,"_blank")}else!1===S.expired?e.history.push(l):s?C(!0):e.history.push(l);B(n.parentUrl)}(n)},key:n.id,__source:{fileName:y,lineNumber:346,columnNumber:72}},i.a.createElement("div",{className:"home-icon",__source:{fileName:y,lineNumber:347,columnNumber:69}},n.icon),i.a.createElement("div",{className:"home-label",__source:{fileName:y,lineNumber:350,columnNumber:69}},n.title,n.iseEnhance&&!0===S.expired&&i.a.createElement("svg",{className:"img-icon-16","aria-hidden":"true",__source:{fileName:y,lineNumber:353,columnNumber:136}},i.a.createElement("use",{xlinkHref:"#icon-member",__source:{fileName:y,lineNumber:354,columnNumber:81}}))),i.a.createElement("div",{className:"home-info",__source:{fileName:y,lineNumber:358,columnNumber:69}},n.num))}))))}))))),i.a.createElement(k.a,{archivedFreeVisable:T,setArchivedFreeVisable:C,__source:{fileName:y,lineNumber:373,columnNumber:17}})))}},747:function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},974:function(e,n,l){var s={"./af":784,"./af.js":784,"./ar":785,"./ar-dz":786,"./ar-dz.js":786,"./ar-kw":787,"./ar-kw.js":787,"./ar-ly":788,"./ar-ly.js":788,"./ar-ma":789,"./ar-ma.js":789,"./ar-ps":790,"./ar-ps.js":790,"./ar-sa":791,"./ar-sa.js":791,"./ar-tn":792,"./ar-tn.js":792,"./ar.js":785,"./az":793,"./az.js":793,"./be":794,"./be.js":794,"./bg":795,"./bg.js":795,"./bm":796,"./bm.js":796,"./bn":797,"./bn-bd":798,"./bn-bd.js":798,"./bn.js":797,"./bo":799,"./bo.js":799,"./br":800,"./br.js":800,"./bs":801,"./bs.js":801,"./ca":802,"./ca.js":802,"./cs":803,"./cs.js":803,"./cv":804,"./cv.js":804,"./cy":805,"./cy.js":805,"./da":806,"./da.js":806,"./de":807,"./de-at":808,"./de-at.js":808,"./de-ch":809,"./de-ch.js":809,"./de.js":807,"./dv":810,"./dv.js":810,"./el":811,"./el.js":811,"./en-au":812,"./en-au.js":812,"./en-ca":813,"./en-ca.js":813,"./en-gb":814,"./en-gb.js":814,"./en-ie":815,"./en-ie.js":815,"./en-il":816,"./en-il.js":816,"./en-in":817,"./en-in.js":817,"./en-nz":818,"./en-nz.js":818,"./en-sg":819,"./en-sg.js":819,"./eo":820,"./eo.js":820,"./es":821,"./es-do":822,"./es-do.js":822,"./es-mx":823,"./es-mx.js":823,"./es-us":824,"./es-us.js":824,"./es.js":821,"./et":825,"./et.js":825,"./eu":826,"./eu.js":826,"./fa":827,"./fa.js":827,"./fi":828,"./fi.js":828,"./fil":829,"./fil.js":829,"./fo":830,"./fo.js":830,"./fr":831,"./fr-ca":832,"./fr-ca.js":832,"./fr-ch":833,"./fr-ch.js":833,"./fr.js":831,"./fy":834,"./fy.js":834,"./ga":835,"./ga.js":835,"./gd":836,"./gd.js":836,"./gl":837,"./gl.js":837,"./gom-deva":838,"./gom-deva.js":838,"./gom-latn":839,"./gom-latn.js":839,"./gu":840,"./gu.js":840,"./he":841,"./he.js":841,"./hi":842,"./hi.js":842,"./hr":843,"./hr.js":843,"./hu":844,"./hu.js":844,"./hy-am":845,"./hy-am.js":845,"./id":846,"./id.js":846,"./is":847,"./is.js":847,"./it":848,"./it-ch":849,"./it-ch.js":849,"./it.js":848,"./ja":850,"./ja.js":850,"./jv":851,"./jv.js":851,"./ka":852,"./ka.js":852,"./kk":853,"./kk.js":853,"./km":854,"./km.js":854,"./kn":855,"./kn.js":855,"./ko":856,"./ko.js":856,"./ku":857,"./ku-kmr":858,"./ku-kmr.js":858,"./ku.js":857,"./ky":859,"./ky.js":859,"./lb":860,"./lb.js":860,"./lo":861,"./lo.js":861,"./lt":862,"./lt.js":862,"./lv":863,"./lv.js":863,"./me":864,"./me.js":864,"./mi":865,"./mi.js":865,"./mk":866,"./mk.js":866,"./ml":867,"./ml.js":867,"./mn":868,"./mn.js":868,"./mr":869,"./mr.js":869,"./ms":870,"./ms-my":871,"./ms-my.js":871,"./ms.js":870,"./mt":872,"./mt.js":872,"./my":873,"./my.js":873,"./nb":874,"./nb.js":874,"./ne":875,"./ne.js":875,"./nl":876,"./nl-be":877,"./nl-be.js":877,"./nl.js":876,"./nn":878,"./nn.js":878,"./oc-lnc":879,"./oc-lnc.js":879,"./pa-in":880,"./pa-in.js":880,"./pl":881,"./pl.js":881,"./pt":882,"./pt-br":883,"./pt-br.js":883,"./pt.js":882,"./ro":884,"./ro.js":884,"./ru":885,"./ru.js":885,"./sd":886,"./sd.js":886,"./se":887,"./se.js":887,"./si":888,"./si.js":888,"./sk":889,"./sk.js":889,"./sl":890,"./sl.js":890,"./sq":891,"./sq.js":891,"./sr":892,"./sr-cyrl":893,"./sr-cyrl.js":893,"./sr.js":892,"./ss":894,"./ss.js":894,"./sv":895,"./sv.js":895,"./sw":896,"./sw.js":896,"./ta":897,"./ta.js":897,"./te":898,"./te.js":898,"./tet":899,"./tet.js":899,"./tg":900,"./tg.js":900,"./th":901,"./th.js":901,"./tk":902,"./tk.js":902,"./tl-ph":903,"./tl-ph.js":903,"./tlh":904,"./tlh.js":904,"./tr":905,"./tr.js":905,"./tzl":906,"./tzl.js":906,"./tzm":907,"./tzm-latn":908,"./tzm-latn.js":908,"./tzm.js":907,"./ug-cn":909,"./ug-cn.js":909,"./uk":910,"./uk.js":910,"./ur":911,"./ur.js":911,"./uz":912,"./uz-latn":913,"./uz-latn.js":913,"./uz.js":912,"./vi":914,"./vi.js":914,"./x-pseudo":915,"./x-pseudo.js":915,"./yo":916,"./yo.js":916,"./zh-cn":779,"./zh-cn.js":779,"./zh-hk":917,"./zh-hk.js":917,"./zh-mo":918,"./zh-mo.js":918,"./zh-tw":919,"./zh-tw.js":919};function r(e){var n=t(e);return l(n)}function t(e){if(!l.o(s,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=t,e.exports=r,r.id=974}}]);