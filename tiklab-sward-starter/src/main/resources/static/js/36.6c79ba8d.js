(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1002:function(e,n,r){"use strict";r.r(n),r.d(n,"default",(function(){return w}));r(35);var t=r(36),o=(r(37),r(38)),i=(r(73),r(78)),a=r(0),m=r.n(a),c=r(45),u=r(22),l=r(80),s=r(114),d=r(26);Object(d.a)(".repository-survey-row {\n  height: calc(100vh - 48px);\n  overflow: auto;\n  background-color: var(--tiklab-gray-600);\n}\n\n.repository-survey {\n  padding: var(--tiklab-padding);\n}\n.repository-survey .repository-top {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--tiklab-padding);\n  margin-bottom: 15px;\n  background: #fff;\n  border-radius: 4px;\n}\n.repository-survey .repository-top .repository-icon {\n  width: 40px;\n  margin-right: 10px;\n}\n.repository-survey .repository-top .top-left {\n  display: flex;\n  align-items: center;\n}\n.repository-survey .repository-top .top-left .top-icon {\n  width: 80px;\n  height: 80px;\n  margin-right: 15px;\n}\n.repository-survey .repository-top .top-left .top-name .name {\n  font-size: 20px;\n}\n.repository-survey .repository-top .top-left .top-name .user {\n  display: flex;\n  align-items: center;\n}\n.repository-survey .repository-top .top-left .top-name .user .user-more {\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  font-size: 12px;\n  background-color: #ddd;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  cursor: pointer;\n}\n.repository-survey .repository-top .top-left .top-name .user .user-more-icon {\n  width: 20px;\n  height: 20px;\n}\n.repository-survey .repository-top .top-left .top-name .user-img {\n  margin-left: -5px;\n}\n.repository-survey .repository-top .top-left .top-name .desc {\n  color: var(--tiklab-gray-500);\n  display: flex;\n  gap: 10px;\n}\n.repository-survey .repository-top .top-right {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.repository-survey .repository-top .top-right .top-add-botton {\n  color: #fff;\n  font-weight: 500;\n  background-color: var(--tiklab-blue);\n  padding: 5px 15px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  height: 32px;\n  line-height: 32px;\n}\n.repository-survey .repository-menu .repository-menu-submenu {\n  height: 40px;\n  line-height: 40px;\n  display: flex;\n  align-items: center;\n}\n.repository-survey .repository-menu .repository-menu-submenu-hidden {\n  display: none;\n}\n.repository-survey .repository-menu .category-line {\n  flex: 1;\n  margin: 0 16px;\n  border-top: 1px dashed var(--tiklab-gray-500);\n}\n.repository-survey .repository-menu .open-icon {\n  width: 14px;\n  height: 14px;\n  margin-right: 5px;\n}\n.repository-survey .home-dynamic {\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 0 15px 15px;\n  margin-bottom: 15px;\n}\n.repository-survey .home-dynamic .dynamic-box-title {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  font-weight: var(--tiklab-font-weight-bold);\n  display: flex;\n  justify-content: space-between;\n}\n.repository-survey .home-dynamic .dynamic-box-title .more:hover {\n  text-decoration: underline;\n}\n.repository-survey .home-dynamic .dynamic-box-title .more {\n  color: var(--tiklab-blue);\n  margin-left: 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n.repository-survey .home-dynamic .dynamic-list {\n  margin-top: 10px;\n  padding-bottom: 20px;\n}\n.repository-survey .home-dynamic .dynamic-list .dynamic-item {\n  margin-bottom: 10px;\n}\n.repository-survey .home-dynamic .dynamic-list .dynamic-item .dynamic-repository-title:hover {\n  color: var(--tiklab-blue);\n}\n.repository-survey .home-dynamic .dynamic-list .dynamic-item:nth-child(4n+1) .dynamic-user-icon {\n  background-color: #cadbf3;\n}\n.repository-survey .home-dynamic .dynamic-list .dynamic-item:nth-child(4n+2) .dynamic-user-icon {\n  background-color: #deedd7;\n}\n.repository-survey .home-dynamic .dynamic-list .dynamic-item:nth-child(4n+3) .dynamic-user-icon {\n  background-color: #ffebee;\n}\n.repository-survey .home-dynamic .dynamic-list .dynamic-item:nth-child(4n+4) .dynamic-user-icon {\n  background-color: #e8eaf6;\n}\n.repository-survey .home-document {\n  padding: 0 15px 15px;\n  background: #fff;\n  border-radius: 4px;\n  margin-bottom: 15px;\n}\n.repository-survey .home-document .document-box-title {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  font-weight: var(--tiklab-font-weight-bold);\n  display: flex;\n  justify-content: space-between;\n}\n.repository-survey .home-document .document-box-title .more:hover {\n  text-decoration: underline;\n}\n.repository-survey .home-document .document-box-title .more {\n  color: var(--tiklab-blue);\n  margin-left: 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n.repository-survey .home-document .document-list-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 25px;\n  gap: 10px;\n  margin-top: 10px;\n  flex-shrink: 1;\n  min-width: 0;\n}\n.repository-survey .home-document .document-list-item .document-item-left {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  flex-shrink: 1;\n  min-width: 0;\n}\n.repository-survey .home-document .document-list-item .document-item-left .document-icon {\n  width: 32px;\n  height: 32px;\n  margin-right: 10px;\n}\n.repository-survey .home-document .document-list-item .document-item-left .document-item-text {\n  flex-shrink: 1;\n  min-width: 0;\n}\n.repository-survey .home-document .document-list-item .document-item-left .document-item-text .document-title {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.repository-survey .home-document .document-list-item .document-item-left .document-item-text .document-title:hover {\n  cursor: pointer;\n  color: var(--tiklab-blue);\n}\n.repository-survey .home-document .document-list-item .document-item-left .document-item-text .document-master {\n  font-size: 12px;\n  color: var(--tiklab-gray-500);\n}\n.repository-survey .home-document .document-list-item .document-time {\n  width: 150px;\n  flex-shrink: 0;\n}\n\n.content-add-menu {\n  display: flex;\n  align-items: center;\n}\n.content-add-menu .content-add-icon {\n  width: 16px;\n  height: 16px;\n  margin-right: 5px;\n}");var p=r(15),y=r(384),f=r(128),N=r(275),b=r(431),h="/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/repository/overview/components/Survey.js";function g(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,i=[],a=!0,m=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(e){m=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(m)throw o}}return i}(e,n)||_(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){if(e){if("string"==typeof e)return x(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,n):void 0}}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var w=Object(c.h)(Object(u.observer)((function(e){var n=y.a.findRepository,r=y.a.findLogpage,c=y.a.opLogList,u=y.a.findUserList,d=y.a.findDocumentRecentList,_=y.a.findCategoryListTreeById,x=y.a.findDocumentFocusPage,w=f.a.expandedTree,E=f.a.setExpandedTree;f.a.repositoryCatalogueList;var k=v(Object(a.useState)(),2),j=k[0],T=k[1],I=e.match.params.repositoryId,S=v(Object(a.useState)([]),2),O=S[0],A=S[1],U=v(Object(a.useState)([]),2),C=U[0],L=U[1],R=v(Object(a.useState)(),2),z=R[0],H=R[1],D=Object(p.getUser)().userId;Object(p.getUser)().tenant;Object(a.useEffect)((function(){r({userId:D,repositoryId:I}),n({id:I}).then((function(e){0===e.code&&T(e.data)})),d({masterId:D,model:"document",repositoryId:I,orderParams:[{name:"recentTime",orderType:"desc"}]}).then((function(e){0===e.code&&A(g(e.data))})),x({masterId:D,repositoryId:I}).then((function(e){0===e.code&&L(e.data.dataList)})),u({domainId:I}).then((function(e){0===e.code&&H(e.data)}))}),[I]);return m.a.createElement("div",{__source:{fileName:h,lineNumber:118,columnNumber:13}},m.a.createElement(t.default,{className:"repository-survey-row",__source:{fileName:h,lineNumber:119,columnNumber:9}},m.a.createElement(o.default,{xl:{span:18,offset:3},lg:{span:18,offset:3},md:{span:20,offset:2},className:"repository-col",__source:{fileName:h,lineNumber:120,columnNumber:13}},m.a.createElement("div",{className:"repository-survey",__source:{fileName:h,lineNumber:121,columnNumber:17}},j&&m.a.createElement(a.Fragment,{__source:{fileName:h,lineNumber:123,columnNumber:43}},m.a.createElement("div",{className:"repository-top",__source:{fileName:h,lineNumber:124,columnNumber:29}},m.a.createElement("div",{className:"top-left",__source:{fileName:h,lineNumber:126,columnNumber:33}},m.a.createElement("div",{__source:{fileName:h,lineNumber:127,columnNumber:37}},j.iconUrl?m.a.createElement("img",{src:""+j.iconUrl,alt:"",className:"repository-icon",__source:{fileName:h,lineNumber:130,columnNumber:49}}):m.a.createElement("img",{src:"images/repository1.png",alt:"",className:"repository-icon",__source:{fileName:h,lineNumber:136,columnNumber:49}})),m.a.createElement("div",{className:"top-name",__source:{fileName:h,lineNumber:145,columnNumber:37}},m.a.createElement("div",{className:"name",__source:{fileName:h,lineNumber:146,columnNumber:41}},null==j?void 0:j.name),m.a.createElement("div",{className:"user",__source:{fileName:h,lineNumber:147,columnNumber:41}},z&&z.length>0&&z.map((function(e,n){if(n<5)return m.a.createElement("div",{key:e.id,__source:{fileName:h,lineNumber:151,columnNumber:64}},m.a.createElement(s.a,{size:"big",name:e.user.nickname,__source:{fileName:h,lineNumber:151,columnNumber:85}}))})),m.a.createElement("div",{className:"user-more",onClick:function(){return e.history.push("/repositorySet/".concat(I,"/user"))},__source:{fileName:h,lineNumber:156,columnNumber:45}},m.a.createElement("svg",{className:"user-more-icon","aria-hidden":"true",__source:{fileName:h,lineNumber:157,columnNumber:49}},m.a.createElement("use",{xlinkHref:"#icon-more",__source:{fileName:h,lineNumber:158,columnNumber:53}})))))),m.a.createElement("div",{className:"top-right",__source:{fileName:h,lineNumber:175,columnNumber:33}},m.a.createElement(N.a,{category:null,isButton:!0,__source:{fileName:h,lineNumber:176,columnNumber:37}}),m.a.createElement(l.a,{__source:{fileName:h,lineNumber:177,columnNumber:37}},"分享")))),m.a.createElement("div",{className:"home-document",__source:{fileName:h,lineNumber:183,columnNumber:21}},m.a.createElement("div",{className:"document-box-title",__source:{fileName:h,lineNumber:184,columnNumber:25}},m.a.createElement("span",{className:"name",__source:{fileName:h,lineNumber:185,columnNumber:29}},"常用文档")),O.length>0?m.a.createElement("div",{__source:{fileName:h,lineNumber:188,columnNumber:65}},O&&O.map((function(n){return m.a.createElement("div",{className:"document-list-item",key:n.id,__source:{fileName:h,lineNumber:191,columnNumber:48}},m.a.createElement("div",{className:"document-item-left",__source:{fileName:h,lineNumber:192,columnNumber:45}},m.a.createElement("div",{__source:{fileName:h,lineNumber:193,columnNumber:49}},"markdown"===n.documentType&&m.a.createElement("svg",{className:"document-icon","aria-hidden":"true",__source:{fileName:h,lineNumber:196,columnNumber:57}},m.a.createElement("use",{xlinkHref:"#icon-minmap",__source:{fileName:h,lineNumber:197,columnNumber:61}})),"document"===n.documentType&&m.a.createElement("svg",{className:"document-icon","aria-hidden":"true",__source:{fileName:h,lineNumber:202,columnNumber:57}},m.a.createElement("use",{xlinkHref:"#icon-file",__source:{fileName:h,lineNumber:203,columnNumber:61}}))),m.a.createElement("div",{className:"document-item-text",__source:{fileName:h,lineNumber:208,columnNumber:49}},m.a.createElement("div",{className:"document-title",onClick:function(){return function(n){"document"===n.documentType&&e.history.push("/repositorydetail/".concat(n.wikiRepository.id,"/doc/").concat(n.id)),"markdown"===n.documentType&&e.history.push("/repositorydetail/".concat(n.wikiRepository.id,"/markdownView/").concat(n.id)),"category"===n.type&&e.history.push("/repositorydetail/".concat(n.wikiRepository.id,"/folder/").concat(n.id));var r={id:n.id,treePath:n.treePath};_(r).then((function(e){if(0===e.code&&n.treePath){var r=n.treePath.split(";");r.pop();var t=[].concat(g(w),g(r));t=Array.from(new Set(t)),E(t)}}))}(n)},__source:{fileName:h,lineNumber:209,columnNumber:53}},n.name),m.a.createElement("div",{className:"document-master",__source:{fileName:h,lineNumber:210,columnNumber:53}},n.master.nickname))),m.a.createElement("div",{__source:{fileName:h,lineNumber:217,columnNumber:45}},n.updateTime))}))):m.a.createElement(i.default,{image:"/images/nodata.png",description:"暂时没有查看过文档~",__source:{fileName:h,lineNumber:223,columnNumber:33}})),m.a.createElement("div",{className:"home-document focus-document",__source:{fileName:h,lineNumber:227,columnNumber:21}},m.a.createElement("div",{className:"document-box-title",__source:{fileName:h,lineNumber:228,columnNumber:25}},m.a.createElement("span",{className:"name",__source:{fileName:h,lineNumber:229,columnNumber:29}},"收藏文档"),m.a.createElement("div",{className:"more",onClick:function(){e.history.push("/repositorydetail/".concat(I,"/focusDocumentList"))},__source:{fileName:h,lineNumber:230,columnNumber:29}},m.a.createElement("svg",{"aria-hidden":"true",className:"svg-icon",__source:{fileName:h,lineNumber:231,columnNumber:33}},m.a.createElement("use",{xlinkHref:"#icon-rightjump",__source:{fileName:h,lineNumber:232,columnNumber:37}})))),m.a.createElement("div",{__source:{fileName:h,lineNumber:236,columnNumber:25}},C&&C.length>0?C.map((function(n){var r;return m.a.createElement("div",{className:"document-list-item",key:n.id,__source:{fileName:h,lineNumber:239,columnNumber:44}},m.a.createElement("div",{className:"document-item-left",style:{flex:1},__source:{fileName:h,lineNumber:240,columnNumber:41}},m.a.createElement("div",{__source:{fileName:h,lineNumber:241,columnNumber:45}},"document"===n.node.documentType&&m.a.createElement("svg",{className:"document-icon","aria-hidden":"true",__source:{fileName:h,lineNumber:243,columnNumber:94}},m.a.createElement("use",{xlinkHref:"#icon-file",__source:{fileName:h,lineNumber:244,columnNumber:57}})),"markdown"===n.node.documentType&&m.a.createElement("svg",{className:"document-icon","aria-hidden":"true",__source:{fileName:h,lineNumber:248,columnNumber:94}},m.a.createElement("use",{xlinkHref:"#icon-minmap",__source:{fileName:h,lineNumber:249,columnNumber:57}}))),m.a.createElement("div",{className:"document-item-text",__source:{fileName:h,lineNumber:254,columnNumber:45}},m.a.createElement("div",{className:"document-title",onClick:function(){return function(n){"document"===n.documentType&&e.history.push("/repositorydetail/".concat(n.wikiRepository.id,"/doc/").concat(n.id)),"markdown"===n.documentType&&e.history.push("/repositorydetail/".concat(n.wikiRepository.id,"/markdownView/").concat(n.id))}(n.node)},__source:{fileName:h,lineNumber:255,columnNumber:49}},n.node.name),m.a.createElement("div",{className:"document-master",style:{flex:1},__source:{fileName:h,lineNumber:256,columnNumber:49}},null===(r=n.wikiRepository)||void 0===r?void 0:r.name))),m.a.createElement("div",{className:"document-time",__source:{fileName:h,lineNumber:263,columnNumber:41}},n.focusTime))})):m.a.createElement(i.default,{image:"/images/nodata.png",description:"暂时没有数据~",__source:{fileName:h,lineNumber:267,columnNumber:37}}))),m.a.createElement("div",{className:"home-dynamic",__source:{fileName:h,lineNumber:271,columnNumber:21}},m.a.createElement("div",{className:"dynamic-box-title",__source:{fileName:h,lineNumber:272,columnNumber:25}},m.a.createElement("span",{className:"name",__source:{fileName:h,lineNumber:273,columnNumber:29}},"最新动态"),m.a.createElement("div",{className:"more",onClick:function(){e.history.push("/repositorydetail/".concat(I,"/dynamicList"))},__source:{fileName:h,lineNumber:274,columnNumber:29}},m.a.createElement("svg",{"aria-hidden":"true",className:"svg-icon",__source:{fileName:h,lineNumber:275,columnNumber:33}},m.a.createElement("use",{xlinkHref:"#icon-rightjump",__source:{fileName:h,lineNumber:276,columnNumber:37}})))),m.a.createElement("div",{className:"dynamic-list",__source:{fileName:h,lineNumber:280,columnNumber:25}},c.length>0?c.map((function(e){return m.a.createElement(b.a,{key:e.id,user:e.user,time:e.createTime,content:e.data,actionType:e.actionType.id,__source:{fileName:h,lineNumber:283,columnNumber:44}})})):m.a.createElement(i.default,{image:"/images/nodata.png",description:"暂时没有动态~",__source:{fileName:h,lineNumber:292,columnNumber:37}})))))))})))},114:function(e,n,r){"use strict";r.d(n,"a",(function(){return a}));var t=r(0),o=r.n(t),i=r(26);Object(i.a)(".user-icon {\n  width: 16px;\n  height: 16px;\n  border-radius: 16px;\n  background-color: #ddd;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}\n\n.user-big-icon {\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  background-color: #ddd;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}");var a=function(e){var n=e.name,r=e.size,t=n?n.charAt(0):"A";return o.a.createElement("div",{className:"big"===r?"user-big-icon":"user-icon",__source:{fileName:"/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/common/UserIcon/UserIcon.js",lineNumber:7,columnNumber:9}},t)}},80:function(e,n,r){"use strict";r.d(n,"a",(function(){return a}));var t=r(0),o=r.n(t),i=r(26);Object(i.a)(".project-botton {\n  padding: 5px 15px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  height: 32px;\n  line-height: 32px;\n}\n\n.project-primary {\n  background-color: var(--tiklab-blue);\n  color: #ffffff;\n  font-weight: 500;\n}\n\n.project-primary:hover {\n  background-color: var(--tiklab-blue);\n}\n\n.project-dashed {\n  color: #42526E;\n  font-weight: 500;\n  background-color: var(--tiklab-gray);\n}\n\n.project-dashed:hover {\n  background-color: var(--tiklab-gray-400);\n}");var a=function(e){var n=e.buttonText,r=e.children,t=e.onClick,i=e.type,a=e.style;return o.a.createElement("div",{onClick:t,style:a,className:"project-botton ".concat("primary"===i?"project-primary":"project-dashed"),__source:{fileName:"/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/common/button/button.js",lineNumber:8,columnNumber:3}},r,n)}}}]);