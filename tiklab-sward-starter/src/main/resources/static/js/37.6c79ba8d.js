(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{114:function(e,r,n){"use strict";n.d(r,"a",(function(){return a}));var t=n(0),o=n.n(t),i=n(26);Object(i.a)(".user-icon {\n  width: 16px;\n  height: 16px;\n  border-radius: 16px;\n  background-color: #ddd;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}\n\n.user-big-icon {\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  background-color: #ddd;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}");var a=function(e){var r=e.name,n=e.size,t=r?r.charAt(0):"A";return o.a.createElement("div",{className:"big"===n?"user-big-icon":"user-icon",__source:{fileName:"/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/common/UserIcon/UserIcon.js",lineNumber:7,columnNumber:9}},t)}},80:function(e,r,n){"use strict";n.d(r,"a",(function(){return a}));var t=n(0),o=n.n(t),i=n(26);Object(i.a)(".project-botton {\n  padding: 5px 15px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  height: 32px;\n  line-height: 32px;\n}\n\n.project-primary {\n  background-color: var(--tiklab-blue);\n  color: #ffffff;\n  font-weight: 500;\n}\n\n.project-primary:hover {\n  background-color: var(--tiklab-blue);\n}\n\n.project-dashed {\n  color: #42526E;\n  font-weight: 500;\n  background-color: var(--tiklab-gray);\n}\n\n.project-dashed:hover {\n  background-color: var(--tiklab-gray-400);\n}");var a=function(e){var r=e.buttonText,n=e.children,t=e.onClick,i=e.type,a=e.style;return o.a.createElement("div",{onClick:t,style:a,className:"project-botton ".concat("primary"===i?"project-primary":"project-dashed"),__source:{fileName:"/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/common/button/button.js",lineNumber:8,columnNumber:3}},n,r)}},979:function(e,r,n){"use strict";n.r(r),n.d(r,"default",(function(){return O}));n(35);var t=n(36),o=(n(37),n(38)),i=(n(53),n(52)),a=(n(73),n(78)),c=(n(29),n(30)),s=n(0),l=n.n(s),u=n(22),m=n(45),p=n(15),d=n(155),f=(n(32),n(31)),b=n(26);Object(b.a)(".search-input {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid #f0f0f0;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 4px;\n  background: #fff;\n  padding-left: 10px;\n  width: 200px;\n}");var y="/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/common/input/inputSearch.js",N=function(e){var r=e.onChange,n=e.placeholder,t=function(e){r(e.target.value)};return l.a.createElement("div",{className:"search-input",__source:{fileName:y,lineNumber:11,columnNumber:9}},l.a.createElement("svg",{className:"svg-icon","aria-hidden":"true",__source:{fileName:y,lineNumber:12,columnNumber:13}},l.a.createElement("use",{xlinkHref:"#icon-search",__source:{fileName:y,lineNumber:13,columnNumber:17}})),l.a.createElement(f.default,{bordered:!1,allowClear:!0,key:"search",placeholder:n,onChange:function(e){return t(e)},__source:{fileName:y,lineNumber:15,columnNumber:13}}))},h=n(80);Object(b.a)(".repository-row {\n  height: calc(100vh - 49px);\n  overflow: auto;\n}\n\n.repository {\n  padding: var(--tiklab-padding-item);\n}\n.repository .recent-repository {\n  margin-bottom: 15px;\n  margin-top: 15px;\n  border-radius: 4px;\n  background: #fff;\n}\n.repository .recent-repository .repository-title {\n  font-size: 14px;\n}\n.repository .recent-repository .repository-box {\n  display: flex;\n  justify-content: flex-start;\n  gap: 15px;\n  padding: 10px 0;\n  overflow: hidden;\n  flex-wrap: wrap;\n  height: 114px;\n}\n.repository .recent-repository .repository-box .ant-empty {\n  width: 100%;\n}\n.repository .recent-repository .repository-item {\n  flex: 1;\n  padding: var(--tiklab-padding);\n  box-sizing: content-box;\n  flex-shrink: 0;\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: var(--tiklab-gray-600);\n  box-sizing: border-box;\n  border-bottom: 2px solid var(--tiklab-gray-600);\n  min-width: 200px;\n  max-width: 240px;\n}\n.repository .recent-repository .repository-item .item-title {\n  margin-bottom: 10px;\n  font-weight: var(--tiklab-font-weight-bold);\n  display: inline-flex;\n  align-items: center;\n  font-size: 16px;\n}\n.repository .recent-repository .repository-item .item-title span {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 140px;\n}\n.repository .recent-repository .repository-item .item-title .project-icon {\n  width: 30px;\n  height: 30px;\n  margin-right: 10px;\n}\n.repository .recent-repository .repository-item .item-title .item-icon {\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n}\n.repository .recent-repository .repository-item .item-work {\n  display: flex;\n  gap: 20px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.repository .recent-repository .repository-item .process-work,\n.repository .recent-repository .repository-item .end-work {\n  font-size: 12px;\n  display: inline-flex;\n  width: 100%;\n  justify-content: space-between;\n  height: 30px;\n  line-height: 30px;\n}\n.repository .recent-repository .repository-item .icon {\n  width: 40px;\n  height: 40px;\n}\n.repository .recent-repository .repository-item .title {\n  margin-top: 10px;\n  font-size: 18px;\n  font-weight: 600;\n}\n.repository .recent-repository .repository-item:hover {\n  border-radius: 4px 4px 0 0;\n  border-bottom: 2px solid var(--tiklab-blue);\n}\n.repository .repository-filter {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n  line-height: 50px;\n  gap: 20px;\n}\n.repository .repository-filter .vertical-bar {\n  width: 1px;\n  height: 15px;\n  background-color: #d7d7d7;\n  margin: 0 10px;\n}\n.repository .repository-filter .active-tabs {\n  color: #000;\n  border-bottom: 2px solid var(--tiklab-blue);\n}\n.repository .repository-filter .filter-search {\n  width: 150px;\n  border-radius: 4px;\n}\n.repository .repository-tabs {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  height: 50px;\n  line-height: 50px;\n}\n.repository .repository-tabs .repository-tab {\n  font-size: var(--tiklab-font-13);\n  cursor: pointer;\n  height: 50px;\n  line-height: 50px;\n  margin-right: 20px;\n}\n.repository .repository-tabs .repository-tab:last-child {\n  margin-right: 0;\n}\n.repository .repository-table-box {\n  margin-top: 10px;\n}\n.repository .repository-title {\n  display: flex;\n  align-items: center;\n}\n.repository .repository-title .repository-info .repository-name {\n  cursor: pointer;\n  line-height: 25px;\n}\n.repository .repository-title .repository-info .repository-name:hover {\n  color: var(--tiklab-blue);\n}\n.repository .repository-title .repository-info .repository-master {\n  font-size: 12px;\n  line-height: 25px;\n  color: var(--tiklab-gray-500);\n}");var g=n(238),x=n(107),_=n(223),v=n(114),w="/Users/yuanjiexuan/Desktop/bate/project-web/tiklab-sward-ui/src/repository/repository/components/RepositoryList.js";function k(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,r)||j(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,r){if(e){if("string"==typeof e)return I(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,r):void 0}}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var O=Object(m.h)(Object(u.observer)((function(e){var r=g.a.findRepositoryList,n=g.a.createRecent,u=g.a.repositorylist,f=g.a.findRecentRepositoryList,b=g.a.createRepositoryFocus,y=g.a.findFocusRepositoryList,j=g.a.deleteRepositoryFocusByCondition,I=g.a.activeTabs,O=g.a.setActiveTabs,C=Object(p.getUser)().userId,A=(Object(p.getUser)().tenant,E(Object(s.useState)([]),2)),z=A[0],S=A[1],U=E(Object(s.useState)([]),2),T=U[0],R=U[1],D=Object(m.g)();Object(s.useEffect)((function(){B(I),F(),f({masterId:C,model:"repository",orderParams:[{name:"recentTime",orderType:"desc"}]}).then((function(e){0===e.code&&R(e.data)}))}),[]);var F=function(e){y({masterId:e}).then((function(e){0===e.code&&(e.data.map((function(e){z.push(e.id)})),S(z))}))},L=[{title:"知识库名称",dataIndex:"name",key:"name",align:"left",render:function(e,r){return l.a.createElement("div",{onClick:function(){return H(r)},className:"repository-title",__source:{fileName:w,lineNumber:85,columnNumber:39}},l.a.createElement("img",{src:Object(x.a)(r.iconUrl),alt:"",className:"list-img",__source:{fileName:w,lineNumber:86,columnNumber:17}}),l.a.createElement("div",{className:"repository-info",__source:{fileName:w,lineNumber:91,columnNumber:17}},l.a.createElement("div",{className:"repository-name",__source:{fileName:w,lineNumber:92,columnNumber:21}},e),l.a.createElement("div",{className:"repository-master",__source:{fileName:w,lineNumber:93,columnNumber:21}},r.master.nickname)))}},{title:"负责人",dataIndex:["master","nickname"],key:"master",align:"left",render:function(e,r){return l.a.createElement(c.default,{__source:{fileName:w,lineNumber:104,columnNumber:17}},l.a.createElement(v.a,{name:e,__source:{fileName:w,lineNumber:105,columnNumber:21}}),e)}},{title:"可见范围",dataIndex:"limits",key:"limits",align:"left",render:function(e,r){return l.a.createElement("div",{__source:{fileName:w,lineNumber:116,columnNumber:39}},"0"===e?"公开":"私有")}},{title:"创建时间",dataIndex:"createTime",key:"createTime",align:"left",width:"20%"},{title:"操作",dataIndex:"action",key:"action",align:"left",width:"15%",render:function(e,r){return l.a.createElement(c.default,{size:"middle",__source:{fileName:w,lineNumber:135,columnNumber:17}},-1!==z.indexOf(r.id)?l.a.createElement("svg",{className:"svg-icon","aria-hidden":"true",onClick:function(){return M(r.id)},__source:{fileName:w,lineNumber:138,columnNumber:29}},l.a.createElement("use",{xlinkHref:"#icon-focus",__source:{fileName:w,lineNumber:139,columnNumber:33}})):l.a.createElement("svg",{className:"svg-icon","aria-hidden":"true",onClick:function(){return K(r.id)},__source:{fileName:w,lineNumber:142,columnNumber:29}},l.a.createElement("use",{xlinkHref:"#icon-nofocus",__source:{fileName:w,lineNumber:143,columnNumber:33}})))}}],H=function(r){var t={name:r.name,model:"repository",modelId:r.id,master:{id:C},wikiRepository:{id:r.id}};n(t),e.history.push({pathname:"/repositorydetail/".concat(r.id,"/survey")})},J=Object(_.a)((function(e){switch(I){case"1":r({name:e});break;case"2":f({master:C,name:e});break;case"3":y({masterId:C,name:e});break;case"4":r({masterId:C,name:e})}}),[500]),B=function(e){switch(O(e),e){case"1":r({});break;case"2":f({master:C});break;case"3":y({masterId:C});break;case"4":r({masterId:C})}},K=function(e){b({repositoryId:e}).then((function(r){0===r.code&&(z.push(e),S(k(z)))}))},M=function(e){j({masterId:C,repositoryId:e}).then((function(r){if(0===r.code){var n=z.indexOf(e);n>-1&&z.splice(n,1),S(k(z))}}))};return l.a.createElement(t.default,{className:"repository-row",__source:{fileName:w,lineNumber:241,columnNumber:9}},l.a.createElement(o.default,{xl:{span:18,offset:3},lg:{span:18,offset:3},md:{span:20,offset:2},__source:{fileName:w,lineNumber:242,columnNumber:13}},l.a.createElement("div",{className:"repository",__source:{fileName:w,lineNumber:243,columnNumber:17}},l.a.createElement(d.a,{firstText:"知识库",__source:{fileName:w,lineNumber:244,columnNumber:21}},l.a.createElement(h.a,{type:"primary",onClick:function(){D.push("/repositoryAdd")},buttonText:"添加知识库",__source:{fileName:w,lineNumber:247,columnNumber:25}})),l.a.createElement("div",{className:"recent-repository",__source:{fileName:w,lineNumber:250,columnNumber:21}},l.a.createElement("div",{className:"repository-title",__source:{fileName:w,lineNumber:251,columnNumber:25}},"常用知识库"),T.length>0?l.a.createElement("div",{className:"repository-box",__source:{fileName:w,lineNumber:255,columnNumber:33}},T.map((function(e){return l.a.createElement(s.Fragment,{__source:{fileName:w,lineNumber:257,columnNumber:48}},l.a.createElement("div",{className:"repository-item",key:e.id,onClick:function(){return H(e)},__source:{fileName:w,lineNumber:258,columnNumber:45}},l.a.createElement("div",{className:"item-title",__source:{fileName:w,lineNumber:259,columnNumber:49}},e.iconUrl?l.a.createElement("img",{src:""+e.iconUrl,alt:"",className:"list-img",__source:{fileName:w,lineNumber:262,columnNumber:61}}):l.a.createElement("img",{src:"images/repository1.png",alt:"",className:"list-img",__source:{fileName:w,lineNumber:269,columnNumber:61}}),l.a.createElement("span",{__source:{fileName:w,lineNumber:275,columnNumber:53}},e.name)),l.a.createElement("div",{className:"item-work",__source:{fileName:w,lineNumber:277,columnNumber:49}},l.a.createElement("div",{className:"process-work",__source:{fileName:w,lineNumber:278,columnNumber:53}},l.a.createElement("span",{style:{color:"#999"},__source:{fileName:w,lineNumber:278,columnNumber:83}},"文档"),l.a.createElement("span",{__source:{fileName:w,lineNumber:278,columnNumber:124}},e.documentNum,"篇")),l.a.createElement("div",{className:"end-work",__source:{fileName:w,lineNumber:279,columnNumber:53}},l.a.createElement("span",{style:{color:"#999"},__source:{fileName:w,lineNumber:279,columnNumber:79}},"目录"),l.a.createElement("span",{__source:{fileName:w,lineNumber:279,columnNumber:120}},e.categoryNum,"个")))))}))):l.a.createElement(a.default,{image:"/images/nodata.png",description:"暂时没有查看过知识库~",__source:{fileName:w,lineNumber:290,columnNumber:33}})),l.a.createElement("div",{className:"repository-tabs-search",__source:{fileName:w,lineNumber:294,columnNumber:21}},l.a.createElement("div",{className:"repository-filter",__source:{fileName:w,lineNumber:295,columnNumber:25}},l.a.createElement("div",{className:"repository-tabs",__source:{fileName:w,lineNumber:296,columnNumber:29}},[{title:"所有知识库",key:"1",icon:"project"},{title:"我收藏的",key:"3",icon:"programconcern"},{title:"我创建的",key:"4",icon:"programbuild"}].map((function(e){return l.a.createElement("div",{className:"repository-tab ".concat(I===e.key?"active-tabs":""),key:e.key,onClick:function(){return B(e.key)},__source:{fileName:w,lineNumber:299,columnNumber:48}},e.title)}))),l.a.createElement(N,{onChange:function(e){return J(e)},placeholder:"知识库名称",__source:{fileName:w,lineNumber:309,columnNumber:29}}))),l.a.createElement("div",{className:"repository-table-box",__source:{fileName:w,lineNumber:312,columnNumber:21}},l.a.createElement(i.default,{columns:L,dataSource:u,rowKey:function(e){return e.id},onChange:function(e){r({current:e.current})},pagination:!1,__source:{fileName:w,lineNumber:313,columnNumber:25}})))))})))}}]);