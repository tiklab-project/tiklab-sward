(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1005:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));n(35);var l=n(36),a=(n(37),n(38)),r=(n(73),n(78)),i=(n(48),n(47)),o=n(0),c=n.n(o),m=n(26);Object(m.a)(".log-detail {\n  background-color: #fff;\n  height: calc(100vh - 48px);\n  overflow: auto;\n}\n.log-detail .log-detail-content {\n  padding: 20px;\n}\n.log-detail-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.log-detail-button span {\n  cursor: pointer;\n  color: #0053ca;\n}\n.log-detail .log-title {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid #f0f0f0;\n  padding-bottom: 10px;\n}\n.log-detail .log-title .title-icon {\n  width: 40px;\n  height: 40px;\n}\n.log-detail .log-title .title-left {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.log-detail .log-title .title-left .title-name {\n  margin-left: 20px;\n}\n.log-detail .log-title .title-left .title-name .name {\n  font-size: 18px;\n  font-weight: 600;\n}\n.log-detail .log-title .title-left .title-name .master {\n  color: var(--thoughtware-gray-500);\n}\n.log-detail .log-title .top-add-botton {\n  color: #fff;\n  font-weight: 500;\n  background-color: var(--thoughtware-blue);\n  padding: 5px 15px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  height: 32px;\n  line-height: 32px;\n}\n.log-detail .log-child:not(:last-child) {\n  margin-bottom: 10px;\n}\n.log-detail .log-child {\n  border-bottom: 1px solid #f0f0f0;\n}\n.log-detail .log-child-list {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n  border-radius: 4px;\n  gap: 15px;\n}\n.log-detail .log-child-list .log-child-title {\n  display: flex;\n  align-items: center;\n  min-width: 0;\n  flex-shrink: 1;\n}\n.log-detail .log-child-list .log-child-info {\n  line-height: 30px;\n}\n.log-detail .log-child-list .log-child-info .log-child-name {\n  min-width: 0;\n  flex-shrink: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.log-detail .log-child-list .log-child-info .log-child-name:hover {\n  cursor: pointer;\n  color: var(--thoughtware-blue);\n}\n.log-detail .log-child-list .log-child-info .log-child-master {\n  font-size: 12px;\n  color: var(--thoughtware-gray-500);\n}\n.log-detail .log-child .log-child-list:hover {\n  background-color: var(--thoughtware-gray-300);\n}\n.log-detail .log-child .log-icon {\n  width: 16px;\n  height: 16px;\n  margin-right: 5px;\n}");var u=n(22),s=n(365),d=n(15),g=n(128),f=n(275),b="/Users/yuanjiexuan/Desktop/bate/project-web/thoughtware-sward-ui/src/repository/category/CategoryDetail.js";function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var l,a,r=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(l=n.next()).done)&&(r.push(l.value),!t||r.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var y=Object(u.observer)((function(e){var t={categoryStore:g.a},n=g.a.findCategory,m=g.a.findNodeList,h=g.a.setRepositoryCatalogueList,y=g.a.createRecent,_=g.a.setCategoryTitle,v=g.a.categoryTitle,x=e.match.params.id,w=N(Object(o.useState)(),2),E=w[0],j=w[1],k=N(Object(o.useState)(),2),O=k[0],S=k[1],T=e.match.params.repositoryId,I=Object(d.getUser)().userId;Object(o.useEffect)((function(){n({id:x}).then((function(e){var t,n;0===e.code&&(S(null===(t=e.data)||void 0===t?void 0:t.node),_(null===(n=e.data)||void 0===n?void 0:n.node.name))})),m({parentId:x}).then((function(e){j(e.data)}))}),[x]);var A=N(Object(o.useState)(),2),C=A[0],H=A[1],L=N(Object(o.useState)([{type:"paragraph",children:[{text:""}]}]),2),R=L[0];L[1];var V=N(Object(o.useState)(),2),M=V[0];V[1];var U=N(Object(o.useState)(),2),z=U[0];U[1];var D=N(i.default.useForm(),1)[0],F=N(Object(o.useState)(),2);F[0];var J=F[1];return c.a.createElement(u.Provider,p({},t,{__source:{fileName:b,lineNumber:88,columnNumber:13}}),c.a.createElement(l.default,{className:"log-detail",__source:{fileName:b,lineNumber:89,columnNumber:9}},c.a.createElement(a.default,{sm:24,md:24,lg:{span:24},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"},__source:{fileName:b,lineNumber:90,columnNumber:13}},c.a.createElement("div",{className:"log-detail-content",__source:{fileName:b,lineNumber:91,columnNumber:17}},O&&c.a.createElement(o.Fragment,{__source:{fileName:b,lineNumber:93,columnNumber:38}},c.a.createElement("div",{className:"log-title",__source:{fileName:b,lineNumber:94,columnNumber:29}},c.a.createElement("div",{className:"title-left",__source:{fileName:b,lineNumber:96,columnNumber:33}},c.a.createElement("svg",{className:"title-icon","aria-hidden":"true",__source:{fileName:b,lineNumber:97,columnNumber:37}},c.a.createElement("use",{xlinkHref:"#icon-folder",__source:{fileName:b,lineNumber:98,columnNumber:41}})),c.a.createElement("div",{className:"title-name",__source:{fileName:b,lineNumber:100,columnNumber:37}},c.a.createElement("div",{className:"name",__source:{fileName:b,lineNumber:101,columnNumber:41}},v),c.a.createElement("div",{className:"master",__source:{fileName:b,lineNumber:102,columnNumber:41}},O.master.name))),c.a.createElement(f.a,{category:O,isButton:!0,__source:{fileName:b,lineNumber:106,columnNumber:33}}))),c.a.createElement("div",{className:"log-child",__source:{fileName:b,lineNumber:111,columnNumber:21}},E&&E.length>0?E.map((function(t){return c.a.createElement("div",{className:"log-child-list",key:t.id,onClick:function(){return function(t){var n={name:t.name,model:t.documentType,modelId:t.id,master:{id:I},wikiRepository:{id:T}};y(n),J(t.id),"category"===t.type&&(localStorage.setItem("categoryId",t.id),e.history.push("/repositorydetail/".concat(T,"/folder/").concat(t.id))),"document"===t.documentType&&e.history.push("/repositorydetail/".concat(T,"/doc/").concat(t.id)),"markdown"===t.documentType&&e.history.push("/repositorydetail/".concat(T,"/markdownView/").concat(t.id))}(t)},__source:{fileName:b,lineNumber:114,columnNumber:40}},c.a.createElement("div",{className:"log-child-title",style:{flex:1},__source:{fileName:b,lineNumber:115,columnNumber:37}},t.type&&"category"===t.type&&c.a.createElement("svg",{className:"list-img","aria-hidden":"true",__source:{fileName:b,lineNumber:118,columnNumber:45}},c.a.createElement("use",{xlinkHref:"#icon-folder",__source:{fileName:b,lineNumber:119,columnNumber:49}})),t.type&&"document"===t.type&&"markdown"===t.documentType&&c.a.createElement("svg",{className:"list-img","aria-hidden":"true",__source:{fileName:b,lineNumber:124,columnNumber:45}},c.a.createElement("use",{xlinkHref:"#icon-minmap",__source:{fileName:b,lineNumber:125,columnNumber:49}})),t.type&&"document"===t.type&&"document"===t.documentType&&c.a.createElement("svg",{className:"list-img","aria-hidden":"true",__source:{fileName:b,lineNumber:130,columnNumber:45}},c.a.createElement("use",{xlinkHref:"#icon-file",__source:{fileName:b,lineNumber:131,columnNumber:49}})),c.a.createElement("div",{className:"log-child-info",__source:{fileName:b,lineNumber:134,columnNumber:41}},c.a.createElement("div",{className:"log-child-name",title:t.name,__source:{fileName:b,lineNumber:135,columnNumber:45}},t.name),c.a.createElement("div",{className:"log-child-master",style:{width:"100px"},__source:{fileName:b,lineNumber:136,columnNumber:45}},t.master.nickname))),c.a.createElement("div",{__source:{fileName:b,lineNumber:141,columnNumber:37}},t.createTime))})):c.a.createElement(r.default,{image:"/images/nodata.png",description:"暂时没有内容~",__source:{fileName:b,lineNumber:145,columnNumber:33}}))))),c.a.createElement(s.a,p({setAddModalVisible:H,addModalVisible:C,setRepositoryCatalogueList:h,form:D,catalogue:M,contentValue:R,setSelectKey:J,userList:z,modalTitle:"添加目录"},e,{__source:{fileName:b,lineNumber:152,columnNumber:9}})))}))}}]);