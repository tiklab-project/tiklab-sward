(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{80:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(0),o=t.n(r),i=t(26);Object(i.a)(".project-botton {\n  padding: 5px 15px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  height: 32px;\n  line-height: 32px;\n}\n\n.project-primary {\n  background-color: var(--thoughtware-blue);\n  color: #ffffff;\n  font-weight: 500;\n}\n\n.project-primary:hover {\n  background-color: var(--thoughtware-blue);\n}\n\n.project-dashed {\n  color: #42526E;\n  font-weight: 500;\n  background-color: var(--thoughtware-gray);\n}\n\n.project-dashed:hover {\n  background-color: var(--thoughtware-gray-400);\n}");var a=function(e){var n=e.buttonText,t=e.children,r=e.onClick,i=e.type,a=e.style;return o.a.createElement("div",{onClick:r,style:a,className:"project-botton ".concat("primary"===i?"project-primary":"project-dashed"),__source:{fileName:"/Users/yuanjiexuan/Desktop/bate/project-web/thoughtware-sward-ui/src/common/button/button.js",lineNumber:8,columnNumber:3}},t,n)}},980:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return U}));t(35);var r=t(36),o=(t(37),t(38)),i=t(0),a=t.n(i),l=(t(203),t(22)),s=t(26);Object(s.a)(".repository-type-col {\n  padding: var(--thoughtware-padding-item);\n  height: calc(100vh - 49px);\n  overflow: hidden;\n}\n\n.repositoryadd-close {\n  cursor: pointer;\n}\n\n.repository-add-page {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 40px;\n  padding: 10px 20px;\n}\n.repository-add-page .repository-add-title {\n  font-weight: var(--thoughtware-font-weight-bold);\n}\n\n.repository-limits-list {\n  display: flex;\n  justify-content: space-between;\n  gap: 24px;\n}\n.repository-limits-list .add-model:hover {\n  box-shadow: var(--ds-shadow-raised, 0px 1px 1px rgba(9, 30, 66, 0.13), 0px 0px 1px rgba(9, 30, 66, 0.13));\n}\n.repository-limits-list .add-model-select {\n  border: 1px solid var(--thoughtware-blue);\n  box-shadow: 0 0 3px var(--thoughtware-gray-400) 56;\n}\n.repository-limits-list .add-model {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  border-radius: 4px;\n  margin: 100px 0;\n  justify-content: space-around;\n  background: #ffffff;\n  cursor: pointer;\n}\n.repository-limits-list .add-model .type-info {\n  flex: 1;\n  padding: 0 10px;\n}\n.repository-limits-list .add-model .type-icon img {\n  width: 60px;\n}\n.repository-limits-list .add-model .type-name {\n  font-size: 20px;\n  font-weight: var(--thoughtware-font-weight-bold);\n}\n.repository-limits-list .add-model .type-desc {\n  line-height: 40px;\n  color: var(--thoughtware-gray-500);\n}\n\n.add-step {\n  display: flex;\n  align-items: center;\n  padding-top: 10px;\n}\n.add-step .step-common {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.add-step .step-common .step-number,\n.add-step .step-common .step-number {\n  width: 25px;\n  height: 25px;\n  text-align: center;\n  border-radius: 25px;\n  line-height: 25px;\n  border: 2px solid var(--thoughtware-gray-400);\n  box-sizing: content-box;\n}\n.add-step .step-common .step-title {\n  height: 30px;\n  line-height: 30px;\n  font-size: 13px;\n}\n.add-step .step-select {\n  color: var(--thoughtware-blue);\n}\n.add-step .step-select .step-number,\n.add-step .step-select .step-number {\n  border: 2px solid var(--thoughtware-blue);\n}\n.add-step .step-line {\n  height: 1px;\n  flex: 1;\n  background-color: var(--thoughtware-gray-400);\n  margin: 0 20px;\n}");t(144);var c=t(141),u=(t(41),t(39)),m=(t(48),t(47)),p=(t(32),t(31));Object(s.a)(".repository-select-type {\n  padding: 10px 0;\n}\n.repository-select-type .repository-type-head {\n  font-size: 14px;\n  padding-bottom: 8px;\n  line-height: 30px;\n}\n.repository-select-type .repository-type-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 60%;\n}\n.repository-select-type .repository-type-box {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 10 20px;\n  max-width: 300px;\n  background-color: #fff;\n}\n.repository-select-type .repository-type-box .type-info {\n  margin-left: 20px;\n}\n.repository-select-type .repository-type-box .type-info .type-name {\n  font-weight: bold;\n  height: 30px;\n  line-height: 30px;\n}\n.repository-select-type .repository-type-box .type-info .type-desc {\n  font-size: var(--thoughtware-font-12);\n  color: var(--thoughtware-gray-500);\n}\n\n.repository-addinfo {\n  padding-top: 20px;\n}\n.repository-addinfo .ant-form-item {\n  margin: 0 0 15px;\n}\n.repository-addinfo .ant-picker {\n  border: 0;\n}\n.repository-addinfo .repository-limit {\n  display: flex;\n  align-items: center;\n  gap: 30px;\n}\n.repository-addinfo .repository-limit .repository-limits {\n  padding: 15px 20px;\n  background-color: #fafafa;\n  border-radius: 4px;\n  width: 250px;\n}\n.repository-addinfo .repository-limit .repository-limits .limits-title {\n  font-size: 16px;\n  height: 40px;\n  line-height: 40px;\n}\n.repository-addinfo .repository-limit .repository-limits .limits-desc {\n  font-size: 13px;\n  color: #ccc;\n}\n.repository-addinfo .repository-limit .limit-select {\n  border: 1px solid var(--thoughtware-blue);\n  box-shadow: 0 0 3px var(--thoughtware-gray-400) 56;\n}\n.repository-addinfo .repository-type-head {\n  font-size: 20px;\n  font-weight: var(--thoughtware-font-weight-bold);\n  margin-bottom: 10px;\n}\n.repository-addinfo .repository-icon-box {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n.repository-addinfo .repository-icon-box .repository-icon {\n  box-sizing: content-box;\n}\n.repository-addinfo .repository-icon-box .repository-icon img {\n  width: 25px;\n  height: 25px;\n  margin: 0;\n}\n.repository-addinfo .repository-icon-box .upload-icon {\n  width: 30px;\n  height: 30px;\n}\n.repository-addinfo .repository-icon-box .icon-select {\n  border: 1px solid var(--thoughtware-blue);\n  box-shadow: 0 0 3px rgba(0, 99, 255, 0.337254902);\n  border-radius: 4px;\n}\n.repository-addinfo .repository-add-submit {\n  display: flex;\n  gap: 20px;\n}\n\n.repository-previous {\n  line-height: 56px;\n  height: 56px;\n  display: flex;\n  align-items: center;\n  width: 56px;\n}\n\n.previous-icon {\n  width: 25px;\n  height: 25px;\n  cursor: pointer;\n}");var d=t(80),f=t(276),b=t(45),y=t(15),h=t(107),g="/Users/yuanjiexuan/Desktop/bate/project-web/thoughtware-sward-ui/src/repository/repository/components/RepositoryAddInfo.js";function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var _=p.default.TextArea,w={labelCol:{span:6}},j=Object(l.inject)("repositoryStore")(Object(b.h)(Object(l.observer)((function(e){var n=e.addRepositorylist,t=e.repositoryStore,r=x(m.default.useForm(),1)[0],o=x(Object(i.useState)("repository1.png"),2),l=o[0],s=o[1],b=x(Object(i.useState)(),2),v=b[0],j=b[1],E=t.findIconList,k=t.creatIcon;Object(i.useEffect)((function(){O()}),[]);var O=function(){E({iconType:"repository"}).then((function(e){var n;j(e.data),s(null===(n=e.data[0])||void 0===n?void 0:n.iconUrl)}))},C=function(){r.validateFields().then((function(t){var r={name:t.name,desc:t.desc,limits:t.limits,iconUrl:l};n(r).then((function(n){4e4===n.code&&u.default.error(n.msg),0===n.code&&(u.default.success("添加成功"),e.history.push("/repositorydetail/".concat(n.data,"/survey")))}))}))},U=Object(y.getUser)().ticket,S=Object(y.getUser)().tenant,z={name:"uploadFile",action:"".concat("","/dfs/upload"),showUploadList:!1,headers:{ticket:U,tenant:S},onChange:function(e){if("done"===e.file.status){var n=e.file.response.data,t={iconName:e.file.name,iconUrl:"/image/"+n,iconType:"repository"};k(t).then((function(e){0===e.code&&O()})),u.default.success("".concat(e.file.name," file uploaded successfully"))}else"error"===e.file.status&&u.default.error("".concat(e.file.name," file upload failed."))}},I=x(Object(i.useState)("0"),2),T=I[0],A=I[1],R=function(e){var n=e.value,t=void 0===n?{}:n,r=e.onChange,o=function(e){A(e),r(e)};return a.a.createElement("div",{className:"repository-limit",onChange:r,value:t,__source:{fileName:g,lineNumber:107,columnNumber:13}},a.a.createElement("div",{key:"0",className:"repository-limits ".concat("0"===T?"limit-select":""),onClick:function(){return o("0")},__source:{fileName:g,lineNumber:108,columnNumber:17}},a.a.createElement("div",{className:"limits-title",__source:{fileName:g,lineNumber:109,columnNumber:21}},"公共",a.a.createElement("svg",{className:"svg-icon","aria-hidden":"true",__source:{fileName:g,lineNumber:111,columnNumber:25}},a.a.createElement("use",{xlinkHref:"#icon-publish",__source:{fileName:g,lineNumber:112,columnNumber:29}}))),a.a.createElement("div",{className:"limits-desc",__source:{fileName:g,lineNumber:115,columnNumber:21}},"公共知识库，全部成员可见")),a.a.createElement("div",{key:"1",className:"repository-limits ".concat("1"===T?"limit-select":""),onClick:function(){return o("1")},__source:{fileName:g,lineNumber:119,columnNumber:17}},a.a.createElement("div",{className:"limits-title",__source:{fileName:g,lineNumber:120,columnNumber:21}},"私密",a.a.createElement("svg",{className:"svg-icon","aria-hidden":"true",__source:{fileName:g,lineNumber:122,columnNumber:25}},a.a.createElement("use",{xlinkHref:"#icon-private",__source:{fileName:g,lineNumber:123,columnNumber:29}}))),a.a.createElement("div",{className:"limits-desc",__source:{fileName:g,lineNumber:126,columnNumber:21}},"私密知识库，只有知识库成员可见")))};return a.a.createElement(i.Fragment,{__source:{fileName:g,lineNumber:136,columnNumber:9}},a.a.createElement("div",{className:"repository-addinfo",__source:{fileName:g,lineNumber:137,columnNumber:13}},a.a.createElement(m.default,N({},w,{name:"basic",initialValues:{remember:!0,limits:"0"},form:r,onFinish:C,layout:"vertical",__source:{fileName:g,lineNumber:139,columnNumber:17}}),a.a.createElement(m.default.Item,{label:"知识库名称",name:"name",rules:[{required:!0,message:"使用中英文、数字、空格组合"}],__source:{fileName:g,lineNumber:150,columnNumber:21}},a.a.createElement(p.default,{placeholder:"使用中英文、数字、空格组合",__source:{fileName:g,lineNumber:160,columnNumber:25}})),a.a.createElement(m.default.Item,{label:"可见范围",name:"limits",rules:[{validator:function(e,n){return n?Promise.resolve():Promise.reject(new Error("Price must be greater than zero!"))}}],__source:{fileName:g,lineNumber:163,columnNumber:21}},a.a.createElement(R,{__source:{fileName:g,lineNumber:172,columnNumber:25}})),a.a.createElement(m.default.Item,{label:"知识库描述",name:"desc",rules:[{required:!1,message:"请输入知识库描述"}],__source:{fileName:g,lineNumber:174,columnNumber:21}},a.a.createElement(_,{rows:3,__source:{fileName:g,lineNumber:184,columnNumber:25}})),a.a.createElement(m.default.Item,{label:"图标",name:"icon",__source:{fileName:g,lineNumber:186,columnNumber:21}},a.a.createElement("div",{className:"repository-icon-box",__source:{fileName:g,lineNumber:190,columnNumber:25}},v&&v.map((function(e){return a.a.createElement("div",{key:e.key,className:"repository-icon  ".concat(e.iconUrl===l?"icon-select":null),onClick:function(){s(e.iconUrl)},__source:{fileName:g,lineNumber:193,columnNumber:44}},a.a.createElement("img",{src:Object(h.a)(e.iconUrl),alt:"",className:"img-icon",__source:{fileName:g,lineNumber:194,columnNumber:41}}))})),a.a.createElement(c.a,N({},z,{__source:{fileName:g,lineNumber:201,columnNumber:29}}),a.a.createElement("div",{className:"project-icon",__source:{fileName:g,lineNumber:202,columnNumber:33}},a.a.createElement("img",{src:f.a,alt:"",className:"list-img",__source:{fileName:g,lineNumber:203,columnNumber:37}}))))),a.a.createElement("div",{className:"repository-add-submit",__source:{fileName:g,lineNumber:210,columnNumber:21}},a.a.createElement(d.a,{htmlType:"button",onClick:function(){return e.history.goBack()},__source:{fileName:g,lineNumber:211,columnNumber:25}},"取消"),a.a.createElement(d.a,{type:"primary",htmlType:"submit",onClick:C,__source:{fileName:g,lineNumber:215,columnNumber:25}},"提交")))))})))),E=t(155),k=t(238),O="/Users/yuanjiexuan/Desktop/bate/project-web/thoughtware-sward-ui/src/repository/repository/components/RepositoryAdd.js";function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var U=Object(l.observer)((function(e){var n=e.selectTabs,t=k.a.addRepositorylist,i=k.a.findRepositoryList,s={repositoryStore:k.a},c=function(){return a.a.createElement(E.a,{firstText:"添加知识库",__source:{fileName:O,lineNumber:19,columnNumber:13}},a.a.createElement("div",{onClick:function(){return e.history.goBack()},className:"repositoryadd-close",__source:{fileName:O,lineNumber:22,columnNumber:17}},a.a.createElement("svg",{className:"svg-icon","aria-hidden":"true",__source:{fileName:O,lineNumber:23,columnNumber:21}},a.a.createElement("use",{xlinkHref:"#icon-close",__source:{fileName:O,lineNumber:24,columnNumber:25}}))))};return a.a.createElement(l.Provider,C({},s,{__source:{fileName:O,lineNumber:33,columnNumber:9}}),a.a.createElement("div",{__source:{fileName:O,lineNumber:34,columnNumber:13}},a.a.createElement(r.default,{__source:{fileName:O,lineNumber:35,columnNumber:17}},a.a.createElement(o.default,{className:"repository-type-col",lg:{span:"18",offset:"3"},xl:{span:"14",offset:"5"},xxl:{span:"10",offset:"7"},style:{height:"100%"},__source:{fileName:O,lineNumber:36,columnNumber:21}},a.a.createElement(c,{__source:{fileName:O,lineNumber:43,columnNumber:25}}),a.a.createElement("div",{__source:{fileName:O,lineNumber:44,columnNumber:25}},a.a.createElement(j,{addRepositorylist:t,findRepositoryList:i,selectTabs:n,__source:{fileName:O,lineNumber:45,columnNumber:29}}))))))}))}}]);